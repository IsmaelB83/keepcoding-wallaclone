{"version":3,"sources":["assets/images/logo_large.png","assets/images/warning.png","assets/images/logo.png","assets/images/confirmation.png","assets/images/404.png","assets/images/product.png","components/PrivateRoute/PrivateRoute.js","components/PrivateRoute/index.js","components/ErrorBoundary/ErrorBoundary.js","components/ErrorBoundary/index.js","utils/i18n.js","models/User.js","models/Advert.js","components/AdvertChip/AdvertChip.js","components/cards/CardImage/CardImage.js","components/cards/CardAvatar/CardAvatar.js","components/cards/CardTags/CardTags.js","components/withAdvertActions/withAdvertActions.js","components/cards/index.js","components/cards/CardList/CardList.js","components/cards/CardTile/CardTile.js","components/AdvertList/AdvertList.js","components/AdvertList/index.js","components/withPaginator/withPaginator.js","components/Footer/index.js","components/Footer/Footer.js","components/HideOnScrollDown/HideOnScrollDown.js","components/NavBar/index.js","components/NavBar/NavBar.js","containers/Favorites/Favorites.js","store/selectors/AdvertsSelectors.js","services/AdvertServices.js","services/UserServices.js","store/types/AdvertsTypes.js","store/actions/AdvertsActions.js","store/types/FiltersTypes.js","store/actions/FiltersActions.js","serviceWorker.js","models/Session.js","services/AuthServices.js","utils/Storage.js","store/types/SessionTypes.js","store/actions/SessionActions.js","containers/Favorites/index.js","components/ModalConfirm/index.js","components/ModalConfirm/ModalConfirm.js","containers/Published/index.js","containers/Published/Published.js","components/AdvertDetail/index.js","components/AdvertDetail/AdvertDetail.js","components/Loading/Loading.js","components/Error/index.js","components/Error/Error.js","containers/Detail/Detail.js","containers/Detail/index.js","components/forms/Form/withForm.js","components/forms/Form/Form.js","components/forms/InputForm/InputForm.js","components/forms/SelectForm/SelectForm.js","components/forms/TextAreaForm/TextAreaForm.js","components/forms/SelectMultipleForm/SelectMultipleForm.js","components/AdvertEditForm/index.js","components/AdvertEditForm/AdvertEditForm.js","containers/Edit/Edit.js","containers/Edit/index.js","components/AuthForm/AuthForm.js","components/AuthForm/index.js","containers/Login/Login.js","containers/Login/index.js","containers/Register/Register.js","containers/Register/index.js","containers/RequestReset/RequestReset.js","containers/RequestReset/index.js","containers/Reset/Reset.js","containers/Reset/index.js","components/ProfileForm/index.js","components/ProfileForm/ProfileForm.js","containers/Profile/Profile.js","containers/Profile/index.js","components/SearchPanel/index.js","components/SearchPanel/SearchPanel.js","containers/Home/Home.js","containers/Home/index.js","containers/Error404/index.js","containers/Error404/Error404.js","containers/History/index.js","containers/History/History.js","store/InitialState.js","store/reducers/AdvertsReducers.js","store/reducers/TagsReducers.js","store/reducers/FiltersReducers.js","store/reducers/LastCallReducers.js","store/reducers/SessionReducers.js","store/reducers/UiReducers.js","store/GlobalReducers.js","store/index.js","index.js","containers/App/App.js","assets/images/user.png","assets/images/spinner.gif"],"names":["module","exports","PrivateRoute","props","session","email","to","connect","state","ErrorBoundary","error","errorInfo","this","setState","Fragment","Container","className","t","children","Component","withNamespaces","resources","en","translation","es","i18n","use","detector","reactI18nextModule","init","lng","keySeparator","interpolation","escapeValue","API_URL","process","replace","User","user","_id","login","name","avatar","startsWith","defaultAvatar","ADVERT_CONSTANTS","STATUS","SOLD","BOOKED","TYPE","ALL","BUY","SELL","TAG","WORK","LIFESTYLE","MOTOR","MOBILE","EMPTY_ADVERT","slug","description","price","type","photo","thumbnail","booked","sold","favorite","createdAt","undefined","updatedAt","Advert","ad","tags","file","length","IconsType","AdvertChip","Icon","value","Chip","size","label","icon","DonutLargeIcon","LocalOfferIcon","SearchIcon","BookmarkBorderIcon","AttachMoneyIcon","status","CONSTANTS","src","alt","CardAvatar","Avatar","CardTags","map","i","key","withAdvertActions","WrappedComponent","setFavoriteAdvert","onFavoriteAdvert","advert","setSellAdvert","onSellAdvert","setBookAdvert","onBookAdvert","setDeleteAdvert","onDeleteAdvert","CardListActions","showFavorite","showEdit","id","locale","language","fromNow","Button","onClick","disabled","variant","component","Link","CardTileActions","CARD_TYPES","tiles","list","LoadingList","imageSpinner","text","withPaginator","adverts","start","end","totalCount","currentPage","isFetching","itemsPerPage","parseInt","numPages","Math","ceil","minAdvert","maxAdvert","handleMovePaginator","increment","onSetCurrentPage","MobileStepper","steps","position","activeStep","backButton","callAPI","disableBack","RotateLeftIcon","KeyboardArrowLeft","onfetchIterateAdverts","renderButtonBack","nextButton","disableNext","KeyboardArrowRight","renderButtonNext","slice","Card","index","active","title","MenuItem","fontSize","href","HideOnScrollDown","prevScrollY","React","useRef","useState","hide","setHide","useEffect","onScroll","scrolledDown","window","scrollY","current","addEventListener","removeEventListener","setLanguage","Toolbar","imageLogoXs","imageLogoLg","aux","changeLanguage","moment","onLogout","enqueueSnackbar","setFavorite","setCurrentPage","fetchFavorites","lastCall","ui","catch","logout","getVisibleAdverts","filters","visibleAdverts","toLowerCase","filter","includes","tag","indexOf","minPrice","maxPrice","getAdvertsWithFavoriteSet","getState","favorites","baseURL","Axios","get","then","res","data","results","result","priceFrom","priceTo","skip","limit","jwt","headers","formData","FormData","append","config","post","put","delete","create","password","Querystring","stringify","edit","a","getFavorites","FETCH_ADVERT_REQUEST","FETCH_ADVERT_FAILURE","FETCH_ADVERT_SUCCESS","FETCH_ADVERTS_REQUEST","FETCH_ADVERTS_FAILURE","FETCH_ADVERTS_SUCCESS","FETCH_ITERATE_ADVERTS_REQUEST","FETCH_ITERATE_ADVERTS_FAILURE","FETCH_ITERATE_ADVERTS_SUCCESS","SEARCH_ADVERTS_REQUEST","SEARCH_ADVERTS_FAILURE","SEARCH_ADVERTS_SUCCESS","FETCH_USER_ADVERTS_REQUEST","FETCH_USER_ADVERTS_FAILURE","FETCH_USER_ADVERTS_SUCCESS","FETCH_TAGS_SUCCESS","FETCH_FAVORITES_REQUEST","FETCH_FAVORITES_FAILURE","FETCH_FAVORITES_SUCCESS","FETCH_SOLD_HISTORY_REQUEST","FETCH_SOLD_HISTORY_FAILURE","FETCH_SOLD_HISTORY_SUCCESS","EDIT_ADVERT_REQUEST","EDIT_ADVERT_FAILURE","EDIT_ADVERT_SUCCESS","BOOK_ADVERT_SUCCESS","SELL_ADVERT_SUCCESS","DELETE_ADVERT_REQUEST","DELETE_ADVERT_FAILURE","DELETE_ADVERT_SUCCESS","CREATE_ADVERT_REQUEST","CREATE_ADVERT_FAILURE","CREATE_ADVERT_SUCCESS","SIZE_CALL","fetchTags","dispatch","extra","fetchTagsRequest","AdvertServices","fetchTagsSuccess","message","response","fetchTagsFailure","ACTIONS","fetchAdvert","fetchAdvertRequest","fetchAdvertSuccess","fetchAdvertFailure","fetchAdverts","fetchAdvertsRequest","fetchAdvertsSuccess","fetchAdvertsFailure","fetchUserAdverts","fetchUserAdvertsRequest","fetchUserAdvertsSuccess","fetchUserAdvertsFailure","fetchFavoritesRequest","UserServices","fetchFavoritesSuccess","fetchFavoritesFailure","fetchSoldHistory","fetchSoldHistoryRequest","fetchSoldHistorySuccess","fetchSoldHistoryFailure","searchAdverts","searchAdvertsRequest","parseFloat","searchAdvertsSuccess","searchAdvertsFailure","fetchIterateAdverts","direction","fetchIterateAdvertsRequest","newFilters","fetchIterateAdvertsSuccess","fetchIterateAdvertsFailure","editAdvert","editAdvertRequest","editAdvertSuccess","history","push","editAdvertFailure","bookAdvert","bookAdvertRequest","bookAdvertSuccess","bookAdvertFailure","sellAdvert","sellAdvertRequest","sellAdvertSuccess","sellAdvertFailure","createAdvert","createAdvertRequest","createAdvertSuccess","createAdvertFailure","deleteAdvert","deleteAdvertRequest","deleteAdvertSuccess","deleteAdvertFailure","SET_FILTERS","SET_PAGE","setFilters","pageNumber","publicVapidKey","register","callback","navigator","console","log","serviceWorker","registration","Promise","resolve","reject","permissionResult","Notification","requestPermission","Error","subscribeOptions","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","pushManager","subscribe","pushSubscription","subscription","fetch","method","body","JSON","ok","json","responseData","success","sendSubscriptionToBackEnd","ready","setTimeout","controller","postMessage","event","base64String","base64","repeat","rawData","atob","outputArray","Uint8Array","charCodeAt","Session","token","LocalStorage","saveLocalStorage","localStorage","setItem","readLocalStorage","getItem","parse","clear","cleanLocalStorage","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT_SUCCESS","LOGOUT_FAILURE","LOGIN_TOKEN_REQUEST","LOGIN_TOKEN_SUCCESS","LOGIN_TOKEN_FAILURE","ACTIVATE_ACCOUNT_REQUEST","ACTIVATE_ACCOUNT_FAILURE","ACTIVATE_ACCOUNT_SUCCESS","REQUEST_RESET_ACCOUNT_REQUEST","REQUEST_RESET_ACCOUNT_FAILURE","REQUEST_RESET_ACCOUNT_SUCCESS","RESET_ACCOUNT_REQUEST","RESET_ACCOUNT_FAILURE","RESET_ACCOUNT_SUCCESS","EDIT_ACCOUNT_REQUEST","EDIT_ACCOUNT_FAILURE","EDIT_ACCOUNT_SUCCESS","CREATE_ACCOUNT_REQUEST","CREATE_ACCOUNT_FAILURE","CREATE_ACCOUNT_SUCCESS","DELETE_ACCOUNT_REQUEST","DELETE_ACCOUNT_FAILURE","DELETE_ACCOUNT_SUCCESS","SET_FAVORITE_SUCCESS","loginRequest","AuthServices","loginSuccess","notify","loginFailure","loginWithToken","loginWithTokenRequest","loginWithTokenSuccess","loginWithTokenFailure","logoutRequest","getRegistrations","registrations","unregister","logoutSuccess","logoutFailure","activateAccount","activateAccountRequest","activateAccountSuccess","activateAccountFailure","createAccount","createAccountRequest","createAccountSuccess","createAccountFailure","requestResetAccount","requestResetAccountRequest","requestResetAccountSuccess","requestResetAccountFailure","resetAccount","resetAccountRequest","resetAccountSuccess","resetAccountFailure","setFavoriteRequest","setFavoriteSuccess","setFavoriteFailure","editUser","editUserRequest","editUserSuccess","editUserFailure","deleteAccount","deleteAccountRequest","deleteAccountSuccess","deleteAccountFailure","SessionActions","FiltersActions","AdvertsActions","withSnackbar","Favorites","visible","setVisible","cancel","onCancel","Dialog","open","onClose","imgWarning","imgConfirmation","DialogTitle","DialogActions","onConfirm","color","match","params","showModalDelete","setShowModalDelete","setSlug","startIcon","Loading","image404","imageError","AdvertDetail","propTypes","isUpdating","PropTypes","bool","string","setAdvert","user_id","Detail","Context","createContext","withForm","handleInputChange","target","handleCheckChange","checked","handleChangeMultiple","handleChangeNumber","handleSubmit","preventDefault","onSubmit","initial","Provider","inputs","InputForm","context","useContext","InputAdornment","FormControl","InputLabel","shrink","htmlFor","Input","onChange","placeholder","startAdornment","endAdornment","required","inputProps","maxLength","autoComplete","SelectForm","Select","options","option","TextAreaForm","TextField","multiline","rows","SelectMultipleForm","fullWidth","multiple","renderValue","chip","refInputFile","fileTemp","setFileTemp","photoTemp","setPhotoTemp","click","ref","style","display","ev","stopPropagation","files","URL","createObjectURL","photoDefault","mode","isCreating","noValidate","newAdvert","isValid","Edit","FORM_TYPES","requestReset","reset","autocomplete","hidden","Content","form","imageLogo","isLoading","isAuthenticating","Login","createUser","password_2","Register","RequestReset","resetPassword","Reset","imagePhoto","onRequestDeleteAccount","password_old","password_new_1","password_new_2","Profile","initialState","setInputs","formInputs","onSetFilters","collapsed","setCollapsed","handleCollapse","onSearchAdverts","onFocus","onBlur","displayEmpty","action","Home","isDeleting","ADVERTS","findIndex","SESSION","FILTERS","TYPES","createRootReducer","combineReducers","router","connectRouter","loggerMiddleware","createLogger","componseEnhancers","composeWithDevTools","realtime","trace","traceLimit","createBrowserHistory","ReactDOM","render","store","preloadedState","middlewares","thunkMiddleware","withExtraArgument","routerMiddleware","createStore","applyMiddleware","configureStore","content","maxSnack","path","exact","Published","History","Error404","document","getElementById"],"mappings":"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","file":"static/js/main.dcd218cf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_large.3561c6e6.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/confirmation.81b22a54.png\";","module.exports = __webpack_public_path__ + \"static/media/404.aceb61b0.png\";","module.exports = __webpack_public_path__ + \"static/media/product.8909c3b6.png\";","// NPM Modules\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n// Material UI\n// Own modules\n// Assets\n// CSS\n\n// Main App\nconst PrivateRoute = ({...props}) =>\n  props.session.email ? <Route {...props} /> : <Redirect to=\"/login\" />;\n\nexport default PrivateRoute;\n","// Node modules\nimport { connect } from 'react-redux';\n// Own modules\nimport PrivateRoute from './PrivateRoute';\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        session: state.session,\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, null)(PrivateRoute);","// NPM Modules\nimport React, { Component } from 'react';\n// Material UI\nimport { Container } from '@material-ui/core';\n// Own modules\n// Assets\n// CSS\n\n// Error Boundary (mantengo el class component de react)\nexport default class ErrorBoundary extends Component {\n\n    // Constructor\n    constructor(props) {\n        super(props);\n        this.state = { error: null };\n    }\n\n    // Component did catch (necesario para el error boundary)\n    componentDidCatch(error, errorInfo) {\n        this.setState({ error });\n    }\n\n    // Render\n    render() {\n        if (this.state.error) {\n            return (\n            <React.Fragment>\n                <Container className='Container__Fill'>\n                    <main className='Home'>\n                        <h1>{this.props.t('An uncontrolled error has been detected in the application.')}</h1>\n                        <h2>{this.props.t('Contact the admin.')}</h2>\n                        <h3>{this.state.error}</h3>\n                    </main>\n                </Container>\n            </React.Fragment>\n            );\n        } else {\n            return this.props.children;\n        }\n    }\n}","// Components\nimport ErrorBoundary from './ErrorBoundary';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\n\nexport default withNamespaces()(ErrorBoundary);","import i18n from 'i18next';\nimport detector from 'i18next-browser-languagedetector';\nimport { reactI18nextModule } from 'react-i18next';\n\nimport translationEN from '../assets/locales/en/translation.json';\nimport translationES from '../assets/locales/es/translation.json';\n\n// the translations\nconst resources = {\n    en: {\n        translation: translationEN\n    },\n    es: {\n        translation: translationES\n    }\n};\n\ni18n\n.use(detector)\n.use(reactI18nextModule) // passes i18n down to react-i18next\n.init({\n    resources,\n    lng: 'en',   \n    keySeparator: false, // we do not use keys in form messages.welcome\n    interpolation: {\n        escapeValue: false // react already safes from xss\n    }\n});\n\n\nexport default i18n;","// NPM Modules\n// Material UI\n// Own modules\n// Assets\nimport defaultAvatar from '../assets/images/user.png';\n// CSS\n\n// Endpoint\nconst API_URL = process.env.REACT_APP_API_URL.replace('/apiv1','');\n\n// Modelo sesión de session\nexport default class User {\n    \n    /** Constructor\n     * @param {Object} User \n     */    \n    constructor(user) {\n        this._id = user._id;\n        this.login = user.login;\n        this.name = user.name;\n        this.email = user.email;\n        if (!user.avatar) {\n            user.avatar = '/images/avatars/avatar.png';\n        }\n        this.avatar = user.avatar.startsWith('/images/')?`${API_URL}${user.avatar}`:defaultAvatar;\n    }\n}","// Models\nimport User from './User';\n\n// Constantes para el trabajo con el modelo de anuncio\nexport const ADVERT_CONSTANTS = {\n    STATUS: {\n        SOLD: 'sold',\n        BOOKED: 'booked'\n    },\n    TYPE: {\n        ALL: 'all',\n        BUY: 'buy',\n        SELL: 'sell'\n    }, \n    TAG: {\n        ALL: 'all',\n        WORK: 'work', \n        LIFESTYLE: 'lifestyle', \n        MOTOR: 'motor', \n        MOBILE: 'mobile'\n    }\n}\n\n// Empty advert aux\nexport const EMPTY_ADVERT = {\n    _id: '',\n    slug: '',\n    name: '',\n    description: '',\n    price: 0,\n    type: ADVERT_CONSTANTS.TYPE.BUY,\n    photo: '',\n    thumbnail: '',\n    booked: false,\n    sold: false,\n    favorite: false,\n    createdAt: undefined,\n    updatedAt: undefined\n}\n\n// Endpoint\nconst API_URL = process.env.REACT_APP_API_URL.replace('/apiv1','');\n\n/**\n * Modelo de anuncio en wallaclone\n */\nexport default class Advert {\n    \n    /**\n     * Constructor\n     * @param {Object} Advert \n     */    \n    constructor(ad) {\n        this._id = ad._id;\n        this.slug = ad.slug;\n        this.createdAt = ad.createdAt;\n        this.updatedAt = ad.updatedAt;\n        this.name = ad.name;\n        this.description = ad.description;\n        this.price = ad.price;\n        this.type = ad.type;\n        this.photo = ad.photo.startsWith('/images/')?`${API_URL}${ad.photo}`:ad.photo;\n        if (ad.thumbnail) {\n            this.thumbnail = ad.thumbnail.startsWith('/images/')?`${API_URL}${ad.thumbnail}`:ad.thumbnail;\n        }\n        this.tags = ad.tags;\n        this.booked = ad.booked;\n        this.sold = ad.sold;\n        if (ad.user) {\n            this.user = new User(ad.user);\n        }        \n        this.file = ad.file;\n        this.favorite = ad.favorite;\n    }\n\n    /**\n     * Comprueba si un objeto advert es válido. (Campos obligatorios completos)\n     */\n    isValid() {\n        return  this.name && \n                this.description && \n                this.price > 0 && \n                this.type && \n                this.tags && \n                this.tags.length >= 1;\n    }\n}","// NPM Modules\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// Material UI\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Chip from '@material-ui/core/Chip';\n// Own components\n// Own modules\n// Models\nimport { ADVERT_CONSTANTS } from '../../models/Advert';\n// Assets\n// CSS\nimport './styles.css';\n\nconst IconsType = {};\nIconsType[ADVERT_CONSTANTS.TYPE.ALL] = DonutLargeIcon;\nIconsType[ADVERT_CONSTANTS.TYPE.SELL] = LocalOfferIcon;\nIconsType[ADVERT_CONSTANTS.TYPE.BUY] = SearchIcon;\nIconsType[ADVERT_CONSTANTS.STATUS.BOOKED] = BookmarkBorderIcon;\nIconsType[ADVERT_CONSTANTS.STATUS.SOLD] = AttachMoneyIcon;\n\n// Render advert status type\nexport default function AdvertChip (props) {\n    const Icon = IconsType[props.value];\n    return <Chip className={`AdvertChip AdvertChip__${props.type} AdvertChip__${props.type}--${props.value}`}\n                 size='small' \n                 label={props.value}  \n                 icon={Icon!==undefined?<Icon/>:undefined}\n            />\n}\n\nAdvertChip.propTypes = {\n    type: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n}","// Node\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\nimport { withNamespaces } from 'react-i18next';\n// Own\nimport { ADVERT_CONSTANTS as CONSTANTS } from '../../../models/Advert';\n// Assets\n// CSS\nimport './styles.css';\n\n// Functional component to render an advert card\nfunction CardImage (props) {\n\n    const { sold, booked, photo, slug, t } = props;\n    const status = sold?CONSTANTS.STATUS.SOLD:CONSTANTS.STATUS.BOOKED\n\n    return (\n        <div className='CardImage'>\n            <Link className='CardImage__Link' to={`/advert/${slug}`}>\n                <div className={`CardImage__Overlay CardImage__Overlay--${sold||booked}`}>\n                    { (sold || booked) && <span className='CardImage__Bookmark'><BookmarkBorderIcon/>{t(status)}</span> }\n                </div> \n                <img className='CardImage__Image' src={photo} alt='caption'/>\n            </Link>\n        </div>\n    )\n}\n\nCardImage.propTypes = {\n    sold: PropTypes.bool.isRequired,\n    booked: PropTypes.bool.isRequired,\n    thumbnail: PropTypes.string.isRequired,\n}\n\nexport default withNamespaces()(CardImage);","// Node\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\n// Material\nimport Avatar from '@material-ui/core/Avatar';\n// Assets\n// CSS\nimport './styles.css';\n\n// Functional component to render an advert card\nfunction CardAvatar (props) {\n\n    const { login, avatar, name } = props;\n\n    return (\n        <Link to={`/published/${login}`} className='CardAvatar'>\n            <div>\n                <Avatar className='Avatar' alt='avatar' src={avatar}/>\n                <span>{name}</span>\n            </div>\n        </Link>\n    )\n}\n\nCardAvatar.propTypes = {\n    login: PropTypes.string.isRequired,\n    avatar: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n}\n\nexport default CardAvatar;","// Node\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// Material\n// Own Components\nimport AdvertChip from '../../AdvertChip';\n// CSS\nimport './styles.css';\n\n// Functional component to render an advert tags\nfunction CardTags (props) {\n\n    return (\n        <div className='CardTags'>\n        {   props.tags.map((value,i) => <AdvertChip key={i} type='tag' value={value}/> ) }\n        </div>\n    )\n}\n\nCardTags.propTypes = {\n    tags: PropTypes.array.isRequired,\n}\n\nexport default CardTags;","// Node\nimport React, { Component } from 'react';\n\nconst withAdvertActions = (WrappedComponent) => {\n\n    // Composed component\n    return class AdvertWithActions extends Component {\n\n        // Acciones posibles sobre el anuncio\n        setFavoriteAdvert = () => this.props.onFavoriteAdvert(this.props.advert.slug);\n        setSellAdvert = () => this.props.onSellAdvert(this.props.advert.slug);\n        setBookAdvert = () => this.props.onBookAdvert(this.props.advert.slug);\n        setDeleteAdvert = () => this.props.onDeleteAdvert(this.props.advert.slug);\n\n        render() { \n            return <WrappedComponent \n                        {...this.props} \n                        setFavoriteAdvert={this.setFavoriteAdvert}\n                        setSellAdvert={this.setSellAdvert}\n                        setBookAdvert={this.setBookAdvert}\n                        setDeleteAdvert={this.setDeleteAdvert}\n            /> \n        }\n    }\n}\n\nexport default withAdvertActions;","// Components\nimport CardList from './CardList/CardList'\nimport CardTile from './CardTile/CardTile'\n// HOCs\nimport withAdvertActions from '../withAdvertActions';\nimport { withNamespaces } from 'react-i18next';\n\n// Exporto los dos modelos\nexport const CardListActions = withAdvertActions(withNamespaces()(CardList));\nexport const CardTileActions = withAdvertActions(withNamespaces()(CardTile));\n","// NPM Modules\nimport React from 'react';\nimport Moment from 'react-moment';\nimport { Link } from \"react-router-dom\";\nimport i18n from '../../../utils/i18n';\n// Material UI\nimport BookmarkBorderOutlinedIcon from '@material-ui/icons/BookmarkBorderOutlined';\nimport DeleteOutlineOutlinedIcon from '@material-ui/icons/DeleteOutlineOutlined';\nimport AttachMoneyOutlinedIcon from '@material-ui/icons/AttachMoneyOutlined';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport Button from '@material-ui/core/Button';\n// Own components\nimport AdvertChip from '../../AdvertChip';\nimport CardImage from '../CardImage/CardImage';\nimport CardAvatar from '../CardAvatar/CardAvatar';\nimport CardTags from '../CardTags/CardTags';\n// Own modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\n// Functional component to render an advert card\nexport default function CardList (props) {\n    \n    // Props destructuring\n    const { slug, name, thumbnail, tags, price, sold, type, booked, favorite, createdAt, user } = props.advert;\n    const { setFavoriteAdvert, setBookAdvert, setSellAdvert, setDeleteAdvert, showFavorite, showEdit } = props;\n\n    // Render\n    return(\n        <React.Fragment>\n            <article id={`adslug_${slug}`} className='CardList'>\n                <header className='CardList__Header'>\n                    <CardImage slug={slug} sold={sold} booked={booked} photo={thumbnail}/>\n                    <p className='CardList__Price'>{price} €</p>\n                    <AdvertChip type='type' value={type}/>\n                </header>\n                <div className='CardList__Body'>\n                    <div className='CardList__Content'>\n                        <Link to={`advert/${slug}`} className='CardList__Title'><h2>{name}</h2></Link>\n                        <Moment className='CardList__Date' locale={i18n.language} fromNow>{createdAt}</Moment>\n                        <CardTags tags={tags} />\n                    </div>\n                    <div className='CardList__Footer'>\n                        { ( showFavorite || !showEdit ) &&\n                            <CardAvatar login={user.login} name={user.name} avatar={user.avatar}/>\n                        }\n                        { showFavorite &&\n                            <Button type='button' className='CardList__Favorite' onClick={setFavoriteAdvert}>\n                                <FavoriteIcon className={`FavoriteIcon FavoriteIcon--${favorite?'On':'Off'}`}/>\n                            </Button>\n                        }\n                        { showEdit &&\n                            <div className='CardList__EditButtons'>\n                                <Button type='button' className={`ButtonWc ButtonWc__Clear ButtonWc__ClearToBlue ${booked && \n                                        'ButtonWc__ClearToBlue--active'}`} disabled={sold} variant='contained' onClick={setBookAdvert}>\n                                    <BookmarkBorderOutlinedIcon/>\n                                </Button>\n                                <Button type='button' className={`ButtonWc ButtonWc__Clear ButtonWc__ClearToRed ${sold && 'ButtonWc__ClearToRed--active'}`} \n                                        disabled={booked} variant='contained' onClick={setSellAdvert}>\n                                    <AttachMoneyOutlinedIcon/>\n                                </Button>\n                                <Button type='button' className='ButtonWc ButtonWc__Clear ButtonWc__ClearToGreen' \n                                        disabled={sold} variant='contained' component={Link} to={`/advert/edit/${slug}`}>\n                                    <EditOutlinedIcon/>\n                                </Button>\n                                <Button type='button' className='ButtonWc ButtonWc__Clear ButtonWc__ClearToGray' \n                                        disabled={sold} variant='contained' onClick={setDeleteAdvert}>\n                                    <DeleteOutlineOutlinedIcon/>\n                                </Button>\n                            </div>\n                        }\n                    </div>\n                </div>\n            </article>\n        </React.Fragment>\n    );\n}","// NPM Modules\nimport React from 'react';\nimport i18n from '../../../utils/i18n';\nimport { Link } from \"react-router-dom\";\nimport Moment from 'react-moment';\n// Material UI\nimport FavoriteIcon from '@material-ui/icons/Favorite';\n// Own components\nimport AdvertChip from '../../AdvertChip';\nimport CardAvatar from '../CardAvatar/CardAvatar';\nimport CardImage from '../CardImage/CardImage';\nimport CardTags from '../CardTags/CardTags';\n// Own modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\n\n// Functional component to render an advert card\nexport default function CardTile (props) {\n\n    // Props destructuring\n    const { slug, name, thumbnail, tags, price, sold, booked, type, favorite, user, createdAt } = props.advert;\n\n    // Render\n    return(\n        <article id={`adslug_${slug}`} className='CardTile'>\n            <header className='CardTile__Header'>\n                <p className='CardTile__Price'>{price} <span className='CardTile__Currency'>€</span></p>\n                <CardImage slug={slug} sold={sold} booked={booked} photo={thumbnail}/>\n            </header>\n            <div className='CardTile__Content'>\n                <div className='CardTile_ContentType'>\n                    <AdvertChip type='type' value={type}/>\n                    <button className='ButtonTransparent' onClick={props.setFavoriteAdvert}>\n                        <span>add</span>\n                        <FavoriteIcon className={`FavoriteIcon FavoriteIcon--${favorite?'On':'Off'}`}/>\n                    </button>\n                </div>                \n                <div className='CardTile_ContentTitle'>\n                    <Link to={`advert/${slug}`} className='CardTile__Title'><h2>{name}</h2></Link>\n                </div>\n                <CardTags tags={tags} />\n            </div>\n            <div className='CardTile__Footer'>\n                <CardAvatar login={user.login} name={user.name} avatar={user.avatar}/>\n                <Moment className='CardTile__Date' locale={i18n.language} fromNow>{createdAt}</Moment>\n            </div>\n        </article>\n    );\n}","// NPM Modules\nimport React from 'react';\n// Material UI\n// Own Components\nimport { CardListActions, CardTileActions } from '../cards';\n// Own modules\n// Models\n// Asset\nimport imageSpinner from '../../assets/images/spinner.gif';\n// CSS\nimport './styles.css';\n\n// Dinamic render\nconst CARD_TYPES = {\n    tiles: CardTileActions,\n    list: CardListActions\n};\n\n// Component to display an advert list (tiles o list mode)\nexport default function AdvertList (props) {\n    \n    // Translate\n    const { t } = props;\n\n    // Determina el tipo de Card a renderizar\n    const Card = CARD_TYPES[props.type];\n    return(\n        <section className={`${props.type==='tiles'?'AdvertListTiles':'AdvertListDetail'}`}>\n            {   !props.isFetching && props.adverts.length > 0 &&\n                props.adverts.map((advert, index) => \n                    <Card   key={index}\n                            advert={advert} \n                            showEdit={props.showEdit}\n                            showFavorite={props.showFavorite}\n                            onBookAdvert={props.onBookAdvert}\n                            onSellAdvert={props.onSellAdvert}\n                            onDeleteAdvert={props.onDeleteAdvert}\n                            onFavoriteAdvert={props.onFavoriteAdvert}\n                    />\n            )}\n            { !props.isFetching && !props.adverts.length && <h2 className='Home__Subtitle'>{t('Sorry, we couldn\\'t find any results matching the filter criteria')}</h2> }\n            { props.isFetching && <LoadingList text={t('Loading adverts')}/> }\n        </section>\n);\n}\n\nfunction LoadingList (props) {\n    return <div className='LoadingList'>\n                <img src={imageSpinner} className='LoadingList__Spinner' alt='spinner'/>\n                <h2 className='LoadingList__Text'>{props.text}</h2>\n            </div>\n}","// Component\nimport AdvertList from './AdvertList';\n// HOCs\nimport withPaginator from '../withPaginator';\nimport { withNamespaces } from 'react-i18next';\n\n\nexport default withPaginator(withNamespaces()(AdvertList));","// Node modules\nimport React from 'react';\n// Material UI\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Button from '@material-ui/core/Button';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\n// Css\nimport './styles.css';\n\n// Proporciona funcionalidad de paginado a cualquier lista de objetos\nconst withPaginator = (WrappedComponent) => {\n\n    return function AdvertListWithPaginator(props) {\n\n        // Destructuring props\n        const { adverts, start, end, totalCount } = props;\n        let { currentPage, isFetching } = props;\n\n        // Local variables\n        const itemsPerPage=parseInt(process.env.REACT_APP_MAX_ADVERTS_UI);\n        const numPages = Math.ceil(adverts.length/itemsPerPage);\n        const minAdvert = currentPage * itemsPerPage;\n        const maxAdvert = currentPage * itemsPerPage + itemsPerPage;\n\n        // Next/Previous page\n        const handleMovePaginator = increment => {\n            currentPage += increment;\n            if (currentPage > -1 && currentPage < numPages) {\n                props.onSetCurrentPage(currentPage);\n            }\n        }\n\n        // Previous page button\n        const renderButtonBack = () => {\n            let callAPI = !currentPage && start > 0\n            let disableBack = !currentPage && !callAPI;\n            let Icon = !callAPI?KeyboardArrowLeft:RotateLeftIcon;\n            return  <Button size='small' onClick={()=>!callAPI?handleMovePaginator(-1):props.onfetchIterateAdverts(-1)} \n                            disabled={disableBack} className='ButtonWc ButtonWc__Green'>\n                        <Icon />\n                    </Button>\n        }\n\n        // Next page button\n        const renderButtonNext = () => {\n           \n            let callAPI = ( numPages <= currentPage + 1 ) && ( end + 1 < totalCount );\n            let disableNext = ( numPages <= currentPage + 1 ) && !callAPI;\n            let Icon = !callAPI?KeyboardArrowRight:RotateLeftIcon;\n            return  <Button size='small' onClick={()=>!callAPI?handleMovePaginator(1):props.onfetchIterateAdverts(1)} \n                            disabled={disableNext} className='ButtonWc ButtonWc__Green'>\n                        <Icon />\n                    </Button>\n        }\n       \n        return (\n            <React.Fragment>\n                { adverts.length > 0 &&\n                    <React.Fragment>\n                        <div className='AdvertList__Paginator'>\n                            <MobileStepper\n                                className='Paginator'\n                                variant='dots'\n                                steps={numPages}\n                                position='static'\n                                activeStep={currentPage}\n                                backButton={renderButtonBack()}\n                                nextButton={renderButtonNext()}\n                            />\n                        </div>\n                        <div className='SearchPanel__Statistics'> \n                            <p>Resultados {props.start} a {props.end} recuperados en la última llamada de un total de {props.totalCount}</p>\n                        </div> \n                    </React.Fragment>\n                }\n                <WrappedComponent {...props} adverts={adverts.slice(minAdvert, maxAdvert || 1)} isFetching={isFetching}/> \n            </React.Fragment>\n        );\n        \n        \n    }\n}\n\nexport default withPaginator;","// Component\nimport Footer from './Footer';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\nexport default withNamespaces()(Footer);","// NPM Modules\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n// Material UI\nimport Container from '@material-ui/core/Container';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\nimport TwitterIcon from '@material-ui/icons/Twitter';\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\nimport InstagramIcon from '@material-ui/icons/Instagram';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport HomeIcon from '@material-ui/icons/Home';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport ChatIcon from '@material-ui/icons/Chat';\n// Own components\n// Assets\n// CSS\nimport './styles.css';\n\n// Componente NavBar\nexport default function Footer(props) {\n\n    // Función traducción\n    const { t, active } = props;\n     \n    // Render del componente\n    return (\n        <footer title='Wallaclone' className='Footer'>\n            <Container>\n            { props.session && props.session.avatar &&\n                <div className='Footer__Menu'>\n                    <MenuItem className={`Footer__MenuItem ${active==='Published'?'Footer__MenuItem--active':''}`} component={Link} to={`/published/${props.session.login}`}>\n                        <ViewListIcon fontSize='small' />\n                        <span>{t('My adverts')}</span>\n                    </MenuItem>\n                    <MenuItem className={`Footer__MenuItem ${active==='History'?'Footer__MenuItem--active':''}`} component={Link} to='/history'>\n                        <TrendingUpIcon fontSize='small' />\n                        <span>{t('Sold History')}</span>\n                    </MenuItem>\n                    <MenuItem className={`Footer__MenuItem ${active==='Home'?'Footer__MenuItem--active':''}`} component={Link} to='/'>\n                        <HomeIcon fontSize='small' />\n                        <span>{t('Home')}</span>\n                    </MenuItem>\n                    <MenuItem className={`Footer__MenuItem ${active==='Favorites'?'Footer__MenuItem--active':''}`} component={Link} to='/favorites'>\n                        <FavoriteIcon fontSize='small' />\n                        <span>{t('Favorites')}</span>\n                    </MenuItem>\n                    <MenuItem className={`Footer__MenuItem ${active==='Messages'?'Footer__MenuItem--active':''}`} component={Link} to='/profile'>\n                        <ChatIcon fontSize='small' />\n                        <span>{t('Messages')}</span>\n                    </MenuItem>\n                </div>\n            }\n            { ( !props.session || !props.session.avatar ) &&\n                <div className='Footer__Content'>\n                    <div className='Footer__Email'>\n                        <MailOutlineIcon className='Mail__Icon'/>\n                        <a href='mailto: ismaelbernal83@gmail.com'>ismaelbernal83@gmail.com</a>\n                    </div>\n                    <div className='SocialLinks'>\n                        <a className='SocialLinks__link SocialLinks__link--facebook' href='https://laestanciaazul.com'><HomeIcon /></a>\n                        <a className='SocialLinks__link SocialLinks__link--github' href='https://github.com/IsmaelB83'><GitHubIcon /></a>\n                        <a className='SocialLinks__link SocialLinks__link--linkedin' href='https://www.linkedin.com/in/ismael-bernal-10497a51/'><LinkedInIcon /></a>\n                        <a className='SocialLinks__link SocialLinks__link--instagram' href='https://www.instagram.com/isma83_/'><InstagramIcon /></a>\n                        <a className='SocialLinks__link SocialLinks__link--twitter' href='https://twitter.com/Ismab83'><TwitterIcon /></a>\n                    </div>\n                </div>\n            }\n            </Container>\n        </footer>\n    );\n}","// NPM Modules\nimport React from 'react';\n\nconst HideOnScrollDown = () => {\n    // Variables\n    const prevScrollY = React.useRef();\n    const [hide, setHide] = React.useState(false);\n    // Hook\n    React.useEffect(() => {\n        // When scrolling\n        const onScroll = () => {\n            setHide(hide => {\n                const scrolledDown = window.scrollY > prevScrollY.current;\n                if (window.scrollY < 100) return false;\n                else if (scrolledDown && !hide) return true;\n                else if (!scrolledDown && hide) return false;\n                else {\n                    prevScrollY.current = window.scrollY;\n                    return hide;\n                }\n            });\n        };\n        // Listeners \n        window.addEventListener(\"scroll\", onScroll);\n        return () => window.removeEventListener(\"scroll\", onScroll);\n    }, []);\n    return hide;\n};\n\nexport default HideOnScrollDown;\n  ","// Component\nimport NavBar from './NavBar';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\nexport default withNamespaces()(NavBar);","// NPM Modules\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport i18n from '../../utils/i18n';\nimport moment from 'moment';\n// Material UI\nimport Container from '@material-ui/core/Container';\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Avatar from '@material-ui/core/Avatar';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\nimport LanguageIcon from '@material-ui/icons/Language';\n// Own modules\nimport HideOnScrollDown from '../HideOnScrollDown';\n// Assets\nimport imageLogoXs from '../../assets/images/logo.png';\nimport imageLogoLg from '../../assets/images/logo_large.png';\n// CSS\nimport './styles.css';\n\n// Componente NavBar\nexport default function NavBar(props) {\n\n    // Función traducción\n    const { t } = props;\n\n    // Ocultar navbar\n    const hide = HideOnScrollDown();\n\n    // Switch language\n    const [language, setLanguage] = useState(i18n.language);\n    const switchLanguage = () => {\n        const aux = language==='en'?'es':'en';\n        i18n.changeLanguage(aux);\n        moment.locale(aux);\n        setLanguage(aux);\n    }\n\n    // Render del componente\n    return (\n        <nav className={`NavBar NavBar--${hide?'hide':'show'}`}>\n            <Container>\n                <Toolbar className='NavBar__Toolbar'>\n                    <Link to='/' className='NavBar__Brand'>\n                        <img src={imageLogoXs} className='NavBar__Brand--Xs' alt='logo'/>\n                        <img src={imageLogoLg} className='NavBar__Brand--Lg' alt='logo'/>\n                    </Link>\n                    <div className='NavBar__Right'>\n                        <MenuItem className='Navbar__MenuItem' onClick={switchLanguage}>\n                            <LanguageIcon fontSize='small' />\n                            <span>{language==='en'?'es':'en'}</span>\n                        </MenuItem>\n                        { props.session && props.session.email &&\n                            <React.Fragment>\n                                <MenuItem className='Navbar__MenuItem' component={Link} to='/profile'>\n                                    <Avatar className='Avatar' alt='avatar' src={props.session.avatar}/>\n                                    <span>{t('profile')}</span>\n                                </MenuItem>\n                                <MenuItem className='Navbar__MenuItem' onClick={props.onLogout}>\n                                    <ExitToAppIcon fontSize='small' />\n                                    <span>{t('logout')}</span>\n                                </MenuItem>\n                            </React.Fragment>\n                        }\n                        { !props.session.email &&\n                            <MenuItem className='Navbar__MenuItem' component={Link} to='/login'>\n                                <PermIdentityIcon fontSize='small' />\n                                <span>{t('login')}</span>\n                            </MenuItem>\n                        }\n                    </div>\n                </Toolbar>\n            </Container>\n        </nav>\n    );\n}","// NPM Modules\nimport React, { useEffect } from 'react';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\nimport Container from '@material-ui/core/Container';\n// Components\nimport AdvertList from '../../components/AdvertList';\nimport Footer from '../../components/Footer';\nimport NavBar from '../../components/NavBar';\n// Own modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\n// Published section\nfunction Favorites (props) {\n    \n    // Translate\n    const { t } = props;\n\n    // Destructuring index props\n    const { enqueueSnackbar, setFavorite, setCurrentPage, fetchFavorites } = props;\n    const { start, end, totalCount} = props.lastCall;\n    const { adverts } = props;\n    const { currentPage, isFetching } = props.ui;\n\n    // Cargo favoritos del usuario\n    useEffect(() => {\n        fetchFavorites()\n        .catch(error => enqueueSnackbar(t('Error loading favorites ERROR', {error}), { variant: 'error' }));\n    }, [fetchFavorites, enqueueSnackbar, t]);\n\n    // Delete favorite\n    const deleteFavorite = slug => {\n        setFavorite(slug)\n        .catch(error => enqueueSnackbar(t('Error adding advert to favorite ERROR', {error}), { variant: 'error' }));\n    }\n    \n    // Render\n    return (\n        <React.Fragment>\n            <NavBar session={props.session} onLogout={props.logout}/>\n            <Container className='Container__Fill'>\n                <main className='Main__Section'>\n                    <div className='Section__Content'>\n                        <div className='Content__Title'>\n                            <h1 className='Title'>Tus favoritos</h1>\n                            <p className='Counter'><span>{totalCount}</span> {t('products')}</p>\n                        </div>\n                        <p className='Text'>Aquí puedes hacer seguimiento de todos los anuncios que has añadido a tus favoritos...</p>\n                    </div>\n                    <AdvertList \n                        type='list' \n                        start={start}\n                        end={end}\n                        totalCount={totalCount}\n                        currentPage={currentPage}\n                        adverts={adverts}\n                        showEdit={false}\n                        showFavorite={true}\n                        isFetching={isFetching}\n                        onFavoriteAdvert={deleteFavorite}\n                        onSetCurrentPage={setCurrentPage}\n                    />\n                </main>\n            </Container>\n            <Footer session={props.session} onLogout={props.logout} active='Favorites'/>\n        </React.Fragment>\n    );\n}\n\nexport default withNamespaces()(Favorites);","// Models\nimport { ADVERT_CONSTANTS } from '../../models/Advert';\n\n/**\n* Devuelve los anuncios correspondientes a los filtros indicados\n* @param {Array} adverts Array de anuncios del store \n* @param {Object} filters Filtros a aplicar a los anuncios del store\n*/\nexport function getVisibleAdverts(adverts, filters) {\n    let visibleAdverts = adverts;\n    if (filters.name && filters.name !== '') {\n        filters.name = filters.name.toLowerCase();\n        visibleAdverts = visibleAdverts.filter(advert => advert.name.toLowerCase().includes(filters.name));\n    }\n    if (filters.tag && filters.tag !== ADVERT_CONSTANTS.TAG.ALL) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.tags.indexOf(filters.tag) > -1);\n    }\n    if (filters.type && filters.type !== ADVERT_CONSTANTS.TYPE.ALL) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.type === filters.type);\n    }\n    if (filters.minPrice && filters.minPrice > 0) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.price >= filters.minPrice);\n    }\n    if (filters.maxPrice && filters.maxPrice > 0) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.price <= filters.maxPrice);\n    }\n    return visibleAdverts;\n}\n\n/**\n* Devuelve los anuncios del usuario logueado actualmente\n* @param {Array} adverts Array de anuncios del store\n* @param {Object} session Session del usuario actual \n*/\nexport function getOwnAdverts(adverts, session) {\n    return adverts.filter(advert => advert.user._id === session._id);\n}\n\n/**\n* Devuelve los anuncios del type indicado\n* @param {Array} adverts Array de anuncios del store\n* @param {String} type Advert type (buy/sell)\n*/\nexport function getAdvertsByType(adverts, type) {\n    return adverts.filter(advert => advert.type === type);\n}\n\n/**\n * Devuelve el array con el favorite seteado\n * @param {Array} adverts Array de anuncios\n * @param {Function} getState Función para acceder al estado\n */\nexport function getAdvertsWithFavoriteSet(adverts, getState){\n    const { session } = getState();\n    if (session.favorites) {\n        return adverts.map(ad => {\n            ad.favorite = session.favorites.indexOf(ad._id) >= 0 ? true: false;\n            return ad;\n        });\n    } \n    return adverts;\n}","// NPM Modules\nimport Axios from 'axios';\n// Material UI\n// Own modules\nimport Advert from '../models/Advert';\n// Assets\n// CSS\n\n// Endpoint\nconst API_URL = `${process.env.REACT_APP_API_URL}/adverts`;\n\n/**\n* Objeto API\n*/\nexport default {\n    \n    /**\n    * Obtener todos los tags\n    */\n    getTags: () => {\n        // Endpoint\n        let baseURL = `${API_URL}/tags`;\n        // Call endpoint and return\n        return Axios.get(baseURL)\n        .then(res => res.data.results);\n    },\n    \n    /**\n    * Obtener todos los anuncios\n    */\n    getAdverts: () => {\n        // Endpoint\n        let baseURL = `${API_URL}`;\n        // Call endpoint and return\n        return Axios.get(baseURL)\n        .then(res => {\n            return {\n                end: res.data.end,\n                start: res.data.start,\n                totalCount: res.data.totalCount,\n                adverts:  res.data.results.map(advert => new Advert(advert))\n            }\n        });\n    },\n    \n    /**\n    * Obtener un anuncio por su slug\n    */\n    getAdvert: (slug) => {\n        // Endpoint\n        let baseURL = `${API_URL}/${slug}`;\n        // Call endpoint and return\n        return Axios.get(baseURL)\n        .then(res => new Advert(res.data.result, API_URL));\n    },\n    \n    /**\n    * Buscar por query generica\n    */\n    searchAdverts: (filters) => {\n        // Endpoint\n        let baseURL = `${API_URL}?`;\n        if (filters.name) baseURL =`${baseURL}name=${filters.name}&`;\n        if (filters.type && filters.type !== 'all') baseURL =`${baseURL}venta=${filters.type==='sell'?true:false}&`;\n        if (filters.tag && filters.tag !== 'all') baseURL =`${baseURL}tag=${filters.tag}&`;\n        const priceFrom = parseInt(filters.priceFrom);\n        const priceTo = parseInt(filters.priceTo);\n        if (priceFrom && !priceTo) {\n            baseURL =`${baseURL}price=${priceFrom}-`;\n        } else if (!priceFrom && priceTo) {\n            baseURL =`${baseURL}price=-${priceTo}&`;\n        } else if (priceFrom && priceTo) {\n            baseURL =`${baseURL}price=${priceFrom}-${priceTo}&`;\n        }\n        if (filters.user) baseURL = `${baseURL}user=${filters.user}&`\n        if (filters.skip && filters.skip > 0) baseURL = `${baseURL}skip=${filters.skip}&`\n        if (filters.limit && filters.limit > 0) baseURL = `${baseURL}limit=${filters.limit}&`\n        // Call endpoint and return\n        return Axios.get(baseURL)\n        .then(res => {\n            return {\n                end: res.data.end,\n                start: res.data.start,\n                totalCount: res.data.totalCount,\n                adverts:  res.data.results.map(advert => new Advert(advert))\n            }\n        });\n    },\n    \n    /**\n    * Returns all sales adverts for a specific user\n    */\n    soldHistory: (jwt) => {\n        // Endpoint\n        let baseURL = `${API_URL}/sold`;\n        // Call endpoint and return\n        return Axios.get(baseURL, { headers: { 'Authorization': `Bearer ${jwt}`}})\n        .then(res => {\n            return {\n                end: res.data.end,\n                start: res.data.start,\n                totalCount: res.data.totalCount,\n                adverts:  res.data.results.map(advert => new Advert(advert))\n            }\n        });\n    },\n\n    /**\n    * Llama a la API para crear un nuevo anuncio\n    * @param {Advert} advert \n    */\n    postAdvert: (advert, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}`;\n        // Form Data\n        const formData = new FormData();\n        formData.append('name', advert.name);\n        formData.append('description', advert.description);\n        formData.append('price', advert.price);\n        formData.append('type', advert.type);\n        formData.append('tags', advert.tags);\n        formData.append('photoFile', advert.file);\n        // Config \n        const config = {\n            headers: { \n                'Authorization': `Bearer ${jwt}`,\n                'Content-Type': 'multipart/form-data'\n            }\n        }\n        // Call endpoint and return\n        return Axios.post(baseURL, formData, config)\n        .then(res => new Advert(res.data.result, API_URL));\n    },\n    \n    /**\n    * Llama a la API para editar un anuncio\n    * @param {Advert} advert \n    */\n    editAdvert: (advert, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}/${advert.slug}`;\n        // Form Data\n        const formData = new FormData();\n        formData.append('name', advert.name);\n        formData.append('description', advert.description);\n        formData.append('price', advert.price);\n        formData.append('type', advert.type);\n        formData.append('tags', advert.tags);\n        formData.append('booked', advert.booked);\n        formData.append('sold', advert.sold);\n        formData.append('photoFile', advert.file);\n        // Config \n        const config = {\n            headers: { \n                'Authorization': `Bearer ${jwt}`,\n                'Content-Type': 'multipart/form-data'\n            }\n        }\n        // Call endpoint and return\n        return Axios.put(baseURL, formData, config)\n        .then(res => new Advert(res.data.result, API_URL));\n    },\n    \n    /**\n    * Llama a la API para marcar un anuncio como reservado\n    * @param {Advert} advert \n    */\n    bookAdvert: (slug, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}/book/${slug}`;\n        // Config \n        const config = {\n            headers: { \n                'Authorization': `Bearer ${jwt}`,\n            }\n        }\n        // Call endpoint and return\n        return Axios.put( baseURL, config )\n        .then(res => new Advert(res.data.result, API_URL));\n    },\n    \n    /**\n    * Llama a la API para marcar un anuncio como reservado\n    * @param {Advert} advert \n    */\n    sellAdvert: (slug, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}/sell/${slug}`;\n        // Config \n        const config = {\n            headers: { \n                'Authorization': `Bearer ${jwt}`,\n            }\n        }\n        // Call endpoint and return\n        return Axios.put( baseURL, config )\n        .then(res => new Advert(res.data.result, API_URL));\n    },\n    \n    /**\n    * Llama a la API para editar un anuncio\n    * @param {Advert} advert \n    */\n    deleteAdvert: (slug, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}/${slug}`;\n        // Call endpoint and return\n        return Axios.delete(\n            baseURL, \n            { headers: { 'Authorization': `Bearer ${jwt}`} }\n            )\n            .then(res => res.data.result);\n        }\n    }","// NPM Modules\nimport Axios from 'axios';\nimport Querystring from 'querystring';\n// Material UI\n// Own modules\n// Models\nimport Advert from '../models/Advert';\n// Assets\n// CSS\n\n// Endpoint\nconst API_URL = `${process.env.REACT_APP_API_URL}/user`;\n\n\n/**\n* Objeto API\n*/\nexport default {\n    \n    /**\n    * Create a new user\n    */\n    create: (login, name, email, password) => {\n        // Endpoint\n        let baseURL = `${API_URL}`;\n        // Call endpoint and return\n        return Axios.post(\n            baseURL, \n            Querystring.stringify({login, name, email, password }),\n            { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } }\n        )\n        .then(res => res);\n    },\n        \n    /**\n    * Editar los datos de un usuario\n    */\n    edit: async (user, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}`;\n        // Form Data\n        const formData = new FormData();\n        formData.append('login', user.login);\n        formData.append('name', user.name);\n        formData.append('email', user.email);\n        if (user.password) formData.append('password', user.password);\n        if (user.file) formData.append('photoFile', user.file);\n        // Config \n        const config = {\n            headers: { \n                'Authorization': `Bearer ${jwt}`,\n                'Content-Type': 'multipart/form-data'\n            }\n        }\n        // Call endpoint and return\n        return Axios.put( baseURL, formData, config )\n        .then(res => res.data.user)\n    },\n\n    /**\n    * Editar los datos de un usuario\n    */\n   delete: async (id, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}/${id}`;\n        // Config \n        const config = { headers: { 'Authorization': `Bearer ${jwt}`, } };\n        // Call endpoint and return\n        Axios.delete( baseURL, config )\n        .then(res => res.data)\n    },\n        \n    /**\n    * Llama a la API para insertar/eliminar un anuncio a favoritos\n    * @param {Advert} slug Slug del anuncio del que quiero añadir/quitar de favorito\n    * @param {String} jwt Token para autenticar en el API\n    */\n    setFavorite: (slug, jwt) => {\n        // Endpoint\n        const baseURL = `${API_URL}/favorites/${slug}`;\n        // Call endpoint and return\n        return Axios.put(\n            baseURL, \n            { headers: { 'Authorization': `Bearer ${jwt}`} }\n        )\n        .then(res => {\n            return {\n                advert: res.data.advert,\n                favorite: res.data.favorite\n            }                \n        });\n    },\n        \n    /**\n    * Get favorite adverts for the user\n    */\n    getFavorites: (jwt) => {\n        // Endpoint\n        let baseURL = `${API_URL}/favorites`;\n        // Call endpoint and return\n        return Axios.get(\n            baseURL, \n            { headers: { 'Authorization': `Bearer ${jwt}`} }\n        )\n        .then(res => {\n            const adverts = res.data.results.map(ad => {\n                ad.favorite = true;\n                return new Advert(ad);\n            });\n            return {\n                start: 0,\n                end: adverts.length - 1,\n                totalCount: adverts.length,\n                adverts: adverts\n            }\n        });\n    },\n}","// Fetch data\nexport const FETCH_ADVERT_REQUEST = 'FETCH_ADVERT_REQUEST'\nexport const FETCH_ADVERT_FAILURE = 'FETCH_ADVERT_FAILURE'\nexport const FETCH_ADVERT_SUCCESS = 'FETCH_ADVERT_SUCCESS'\nexport const FETCH_ADVERTS_REQUEST = 'FETCH_ADVERTS_REQUEST'\nexport const FETCH_ADVERTS_FAILURE = 'FETCH_ADVERTS_FAILURE'\nexport const FETCH_ADVERTS_SUCCESS = 'FETCH_ADVERTS_SUCCESS'\nexport const FETCH_ITERATE_ADVERTS_REQUEST = 'FETCH_ITERATE_ADVERTS_REQUEST'\nexport const FETCH_ITERATE_ADVERTS_FAILURE = 'FETCH_ITERATE_ADVERTS_FAILURE'\nexport const FETCH_ITERATE_ADVERTS_SUCCESS = 'FETCH_ITERATE_ADVERTS_SUCCESS'\nexport const SEARCH_ADVERTS_REQUEST = 'SEARCH_ADVERTS_REQUEST'\nexport const SEARCH_ADVERTS_FAILURE = 'SEARCH_ADVERTS_FAILURE'\nexport const SEARCH_ADVERTS_SUCCESS = 'SEARCH_ADVERTS_SUCCESS'\nexport const FETCH_USER_ADVERTS_REQUEST = 'FETCH_USER_ADVERTS_REQUEST'\nexport const FETCH_USER_ADVERTS_FAILURE = 'FETCH_USER_ADVERTS_FAILURE'\nexport const FETCH_USER_ADVERTS_SUCCESS = 'FETCH_USER_ADVERTS_SUCCESS'\nexport const FETCH_TAGS_REQUEST = 'FETCH_TAGS_REQUEST'\nexport const FETCH_TAGS_FAILURE = 'FETCH_TAGS_FAILURE'\nexport const FETCH_TAGS_SUCCESS = 'FETCH_TAGS_SUCCESS'\nexport const FETCH_FAVORITES_REQUEST = 'FETCH_FAVORITES_REQUEST'\nexport const FETCH_FAVORITES_FAILURE = 'FETCH_FAVORITES_FAILURE'\nexport const FETCH_FAVORITES_SUCCESS = 'FETCH_FAVORITES_SUCCESS'\nexport const FETCH_SOLD_HISTORY_REQUEST = 'FETCH_SOLD_HISTORY_REQUEST'\nexport const FETCH_SOLD_HISTORY_FAILURE = 'FETCH_SOLD_HISTORY_FAILURE'\nexport const FETCH_SOLD_HISTORY_SUCCESS = 'FETCH_SOLD_HISTORY_SUCCESS'\n// Edit\nexport const EDIT_ADVERT_REQUEST = 'EDIT_ADVERT_REQUEST'\nexport const EDIT_ADVERT_FAILURE = 'EDIT_ADVERT_FAILURE'\nexport const EDIT_ADVERT_SUCCESS = 'EDIT_ADVERT_SUCCESS'\nexport const BOOK_ADVERT_REQUEST = 'BOOK_ADVERT_REQUEST'\nexport const BOOK_ADVERT_FAILURE = 'BOOK_ADVERT_FAILURE'\nexport const BOOK_ADVERT_SUCCESS = 'BOOK_ADVERT_SUCCESS'\nexport const SELL_ADVERT_REQUEST = 'SELL_ADVERT_REQUEST'\nexport const SELL_ADVERT_FAILURE = 'SELL_ADVERT_FAILURE'\nexport const SELL_ADVERT_SUCCESS = 'SELL_ADVERT_SUCCESS'\n// Delete\nexport const DELETE_ADVERT_REQUEST = 'DELETE_ADVERT_REQUEST'\nexport const DELETE_ADVERT_FAILURE = 'DELETE_ADVERT_FAILURE'\nexport const DELETE_ADVERT_SUCCESS = 'DELETE_ADVERT_SUCCESS'\n// Create\nexport const CREATE_ADVERT_REQUEST = 'CREATE_ADVERT_REQUEST'\nexport const CREATE_ADVERT_FAILURE = 'CREATE_ADVERT_FAILURE'\nexport const CREATE_ADVERT_SUCCESS = 'CREATE_ADVERT_SUCCESS'","// Utils\nimport { getAdvertsWithFavoriteSet }  from '../selectors/AdvertsSelectors';\n// API\nimport AdvertServices from '../../services/AdvertServices';\nimport UserServices from '../../services/UserServices';\n// Actions\nimport * as ACTIONS from '../types/AdvertsTypes';\n\nconst SIZE_CALL = parseInt(process.env.REACT_APP_MAX_ADVERTS_API); \n\n/**\n * Obtener tags disponibles para categorizar anuncios\n */\nexport const fetchTags = () => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(fetchTagsRequest());\n        return AdvertServices.getTags()\n        .then(tags => {\n            dispatch(fetchTagsSuccess(tags));\n            return tags;\n        })\n        .catch (error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(fetchTagsFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst fetchTagsRequest = () => ({ type: ACTIONS.FETCH_TAGS_REQUEST });\nconst fetchTagsFailure = error => ({ type: ACTIONS.FETCH_TAGS_FAILURE, error });\nconst fetchTagsSuccess = tags => ({ type: ACTIONS.FETCH_TAGS_SUCCESS, tags });\n\n/**\n * Obtener datos de un anuncio\n * @param {String} slug Slug identificativo del anuncio\n */\nexport const fetchAdvert = slug => {\n    return async function(dispatch, getState, extra) {\n        dispatch(fetchAdvertRequest());\n        return AdvertServices.getAdvert(slug)\n        .then(advert => {\n            const { favorites } = getState().session;\n            if (favorites) {\n                advert.favorite = favorites.indexOf(advert._id) >= 0 ? true: false;\n            }\n            dispatch(fetchAdvertSuccess(advert));\n            return advert;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(fetchAdvertFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst fetchAdvertRequest = () => ({ type: ACTIONS.FETCH_ADVERT_REQUEST });\nconst fetchAdvertFailure = error => ({ type: ACTIONS.FETCH_ADVERT_FAILURE, error });\nconst fetchAdvertSuccess = advert => ({ type: ACTIONS.FETCH_ADVERT_SUCCESS, advert });\n\n/**\n * Obtener anuncios de la base de datros sin ningún tipo de filtro\n */\nexport const fetchAdverts = () => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(fetchAdvertsRequest());\n        return AdvertServices.getAdverts()\n        .then(response => {\n            const adverts = getAdvertsWithFavoriteSet(response.adverts, getState);\n            dispatch(fetchAdvertsSuccess(adverts, response.totalCount, response.start, response.end));\n            return response;\n        })\n        .catch (error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(fetchAdvertsFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst fetchAdvertsRequest = () => ({ type: ACTIONS.FETCH_ADVERTS_REQUEST });\nconst fetchAdvertsFailure = error => ({ type: ACTIONS.FETCH_ADVERTS_FAILURE, error });\nconst fetchAdvertsSuccess = (adverts, totalCount, start, end) => ({ type: ACTIONS.FETCH_ADVERTS_SUCCESS, adverts, totalCount, start, end });\n\n/**\n * Obtener anuncios de del usuario indicado\n */\nexport const fetchUserAdverts = (login) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(fetchUserAdvertsRequest());\n        return AdvertServices.searchAdverts({user: login})\n        .then(response => {\n            const adverts = getAdvertsWithFavoriteSet(response.adverts, getState);\n            dispatch(fetchUserAdvertsSuccess(adverts, response.totalCount, response.start, response.end));\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(fetchUserAdvertsFailure(message));\n            throw message;\n        })\n    }\n};\n\nconst fetchUserAdvertsRequest = () => ({ type: ACTIONS.FETCH_USER_ADVERTS_REQUEST });\nconst fetchUserAdvertsFailure = error => ({ type: ACTIONS.FETCH_USER_ADVERTS_FAILURE, error });\nconst fetchUserAdvertsSuccess = (adverts, totalCount, start, end) => ({ type: ACTIONS.FETCH_USER_ADVERTS_SUCCESS, adverts, totalCount, start, end });\n\n/**\n * Obtener favoritos del usuario\n */\nexport const fetchFavorites = () => {\n    return async function(dispatch, getState, extra) {\n        dispatch(fetchFavoritesRequest());\n        return UserServices.getFavorites(getState().session.jwt)\n        .then(response => {\n            dispatch(fetchFavoritesSuccess(response.adverts, response.totalCount, response.start, response.end));\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(fetchFavoritesFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst fetchFavoritesRequest = () => ({ type: ACTIONS.FETCH_FAVORITES_REQUEST });\nconst fetchFavoritesFailure = error => ({ type: ACTIONS.FETCH_FAVORITES_FAILURE, error });\nconst fetchFavoritesSuccess = (adverts, totalCount, start, end) => ({ type: ACTIONS.FETCH_FAVORITES_SUCCESS, adverts, totalCount, start, end });\n\n/**\n * Devuelve el historial de ventas de el usuario logueado\n */\nexport const fetchSoldHistory = () => {\n    return async function(dispatch, getState, extra) {\n        dispatch(fetchSoldHistoryRequest());\n        return AdvertServices.soldHistory(getState().session.jwt)\n        .then(response => {\n            dispatch(fetchSoldHistorySuccess(response.adverts, response.totalCount, response.start, response.end));\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(fetchSoldHistoryFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst fetchSoldHistoryRequest = () => ({ type: ACTIONS.FETCH_SOLD_HISTORY_REQUEST });\nconst fetchSoldHistoryFailure = error => ({ type: ACTIONS.FETCH_SOLD_HISTORY_FAILURE, error });\nconst fetchSoldHistorySuccess = (adverts, totalCount, start, end) => ({ type: ACTIONS.FETCH_SOLD_HISTORY_SUCCESS, adverts, totalCount, start, end });\n\n/**\n * Buscar anuncios mediante los filtros indicados\n * @param {Object} filters Filtros a aplicar en la búsqueda\n */\nexport const searchAdverts = filters => {\n    return async function(dispatch, getState, extra) {\n        dispatch(searchAdvertsRequest());\n        return AdvertServices.searchAdverts(filters)\n        .then(response => {\n            filters.name = filters.name.toLowerCase();\n            filters.minPrice = parseFloat(filters.minPrice);\n            filters.maxPrice = parseFloat(filters.maxPrice);\n            const adverts = getAdvertsWithFavoriteSet(response.adverts, getState);\n            dispatch(searchAdvertsSuccess(adverts, response.totalCount, response.start, response.end, filters));\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(searchAdvertsFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst searchAdvertsRequest = () => ({ type: ACTIONS.SEARCH_ADVERTS_REQUEST });\nconst searchAdvertsFailure = error => ({ type: ACTIONS.SEARCH_ADVERTS_FAILURE, error });\nconst searchAdvertsSuccess = (adverts, totalCount, start, end, filters) => ({ type: ACTIONS.SEARCH_ADVERTS_SUCCESS, adverts, totalCount, start, end, filters });\n\n/**\n * Next/Previous iteration getting adverts ()\n */\nexport const fetchIterateAdverts = (direction) => {\n    return async function(dispatch, getState, extra) {\n        dispatch(fetchIterateAdvertsRequest());\n        const { lastCall, filters } = getState();\n        const newFilters = {...filters};\n        newFilters.limit = SIZE_CALL\n        newFilters.skip = direction===1?lastCall.end + 1:lastCall.start - SIZE_CALL;\n        if (newFilters.limit <= 0) delete newFilters.limit;\n        if (newFilters.skip <= 0) delete newFilters.skip;\n        return AdvertServices.searchAdverts({...newFilters})\n        .then(response => {\n            const adverts = getAdvertsWithFavoriteSet(response.adverts, getState);\n            dispatch(fetchIterateAdvertsSuccess(adverts, response.totalCount, response.start, response.end));\n            return response;\n        })\n        .catch (error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(fetchIterateAdvertsFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst fetchIterateAdvertsRequest = () => ({ type: ACTIONS.FETCH_ITERATE_ADVERTS_REQUEST });\nconst fetchIterateAdvertsFailure = error => ({ type: ACTIONS.FETCH_ITERATE_ADVERTS_FAILURE, error });\nconst fetchIterateAdvertsSuccess = (adverts, totalCount, start, end) => ({ type: ACTIONS.FETCH_ITERATE_ADVERTS_SUCCESS, adverts, totalCount, start, end });\n\n/**\n * Editar datos de un anuncio\n * @param {Object} advert Datos actualizados del anuncio\n */\nexport const editAdvert = advert => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(editAdvertRequest());\n        return AdvertServices.editAdvert(advert, getState().session.jwt)\n        .then(response => {\n            dispatch(editAdvertSuccess(response));\n            extra.history.push('/');\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(editAdvertFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst editAdvertRequest = () => ({ type: ACTIONS.EDIT_ADVERT_REQUEST });\nconst editAdvertFailure = error => ({ type: ACTIONS.EDIT_ADVERT_FAILURE, error });\nconst editAdvertSuccess = advert => ({ type: ACTIONS.EDIT_ADVERT_SUCCESS, advert });\n\n/**\n * Reservar un producto\n * @param {String} slug Slug identificativo del producto\n */\nexport const bookAdvert = (slug) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(bookAdvertRequest());\n        return AdvertServices.bookAdvert(slug, getState().session.jwt)\n        .then(response => {\n            dispatch(bookAdvertSuccess(response));\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(bookAdvertFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst bookAdvertRequest = () => ({ type: ACTIONS.BOOK_ADVERT_REQUEST });\nconst bookAdvertFailure = error => ({ type: ACTIONS.BOOK_ADVERT_FAILURE, error });\nconst bookAdvertSuccess = advert => ({ type: ACTIONS.BOOK_ADVERT_SUCCESS, advert });\n\n/**\n * Marcar un producto como vendido\n * @param {String} slug Slug identificativo del producto\n */\nexport const sellAdvert = (slug) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(sellAdvertRequest());\n        return AdvertServices.sellAdvert(slug, getState().session.jwt)\n        .then(response => {\n            dispatch(sellAdvertSuccess(response));\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(sellAdvertFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst sellAdvertRequest = () => ({ type: ACTIONS.SELL_ADVERT_REQUEST });\nconst sellAdvertFailure = error => ({ type: ACTIONS.SELL_ADVERT_FAILURE, error });\nconst sellAdvertSuccess = advert => ({ type: ACTIONS.SELL_ADVERT_SUCCESS, advert });\n\n/**\n * Crear un anuncio nuevo\n * @param {Object} advert Objeto con los datos del anuncio a crear\n */\nexport const createAdvert = (advert) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(createAdvertRequest());\n        delete advert._id;\n        return AdvertServices.postAdvert(advert, getState().session.jwt)\n        .then(response => {\n            dispatch(createAdvertSuccess(response));\n            extra.history.push('/');\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(createAdvertFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst createAdvertRequest = () => ({ type: ACTIONS.CREATE_ADVERT_REQUEST });\nconst createAdvertFailure = error => ({ type: ACTIONS.CREATE_ADVERT_FAILURE, error });\nconst createAdvertSuccess = advert => ({ type: ACTIONS.CREATE_ADVERT_SUCCESS, advert });\n\n/**\n * Eliminar un anuncio de la base de datos\n * @param {String} slug Slug del anuncio que queremos eliminar\n */\nexport const deleteAdvert = (slug) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(deleteAdvertRequest());\n        return AdvertServices.deleteAdvert(slug, getState().session.jwt)\n        .then(response => {\n            dispatch(deleteAdvertSuccess(response));\n            extra.history.push('/');\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(deleteAdvertFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst deleteAdvertRequest = () => ({ type: ACTIONS.DELETE_ADVERT_REQUEST });\nconst deleteAdvertFailure = error => ({ type: ACTIONS.DELETE_ADVERT_FAILURE, error });\nconst deleteAdvertSuccess = advert => ({ type: ACTIONS.DELETE_ADVERT_SUCCESS, advert });","// Filters\nexport const SET_FILTERS = 'SET_FILTERS';\n// Pagination\nexport const SET_PAGE = 'SET_PAGE';","// Actions\nimport * as ACTIONS from '../types/FiltersTypes';\n\nexport const setFilters = filters => {\n    filters.name = filters.name.toLowerCase();\n    filters.minPrice = parseFloat(filters.minPrice);\n    filters.maxPrice = parseFloat(filters.maxPrice);\n    return { type: ACTIONS.SET_FILTERS, filters };\n};\nexport const setCurrentPage = pageNumber => ({ type: ACTIONS.SET_PAGE, pageNumber });","// VAPID Key for push notifications\nconst publicVapidKey = 'BCKzHuEXd7u1KviQLVodwYTGgJ6z7iJf-DYtLSNX6FTREky0uxvXCYMwenwp7oXB_3kgEOPGlEO3wYw6XAF2NmY';\n\n// Register service worker\nexport const register = (login, callback) =>  {\n    // 0. Check for service workers capabilities\n    if (!('serviceWorker' in navigator) || !('PushManager' in window)) {\n        return console.error('Service workers not available');\n    }\n    // 1. regisger service worker\n    console.log('Registering SERVICE WORKER...');\n    registerServiceWorker()\n    .then(registration => {\n        // 2. ask user permisson\n        console.log('Asking form PERMISSIONS...');\n        askPermission()\n        .then (() => {\n            // 3. Registering push\n            console.log('Registering PUSH...');\n            subscribeUserToPush()\n            .then (subscription => {\n                // 4. Push subscription\n                console.log('Sending PUSH subscription...');\n                sendSubscriptionToBackEnd(subscription, login)\n                .then (result => {\n                    // 5. Ensure service worker is ready\n                    navigator.serviceWorker.ready\n                    .then(registration => {\n                        // 6. enable communication between service worker and the rest of the app (callback)\n                        // IMPORTANT!!! dont know why service worker is not ready here.... for my scenario its not a problem\n                        // to have 10s delay until the post message is called... either dont like this. check for a solution\n                        // in the future.\n                        setTimeout(() => {\n                            try {\n                                console.log('Calling the POST MESSAGE...');\n                                navigator.serviceWorker.controller.postMessage(\"ping\");\n                                navigator.serviceWorker.addEventListener('message', function (event) {\n                                    callback(event.data);    \n                                });                                \n                            } catch (error) {\n                                console.error(error);\n                            }\n                        }, 1000);\n                    })\n                    .catch(error => console.error(error));\n                })\n                .catch(error => console.error(error));\n            })\n            .catch (error => console.error (error));\n        })\n        .catch(error => console.error(error));\n    })\n}\n\n// Unregister\nexport const unregister = (login) =>  {\n    navigator.serviceWorker.getRegistrations()\n    .then(function(registrations) {\n        for(let registration of registrations) {\n            console.log('Sending PUSH delete subscription...');\n            fetch(`${process.env.REACT_APP_NOTIFY_URL}unsubscribe/${login}`, { \n                method: 'POST',\n                headers: { 'content-type': 'application/json' }\n            })\n            .catch(error => console.error(error));\n            registration.unregister()\n        } \n    })\n    .catch(error => console.error(error));\n}\n\n// Register service worker. Returns a promise.\nfunction registerServiceWorker() {\n    return navigator.serviceWorker.register(`${process.env.PUBLIC_URL}/custom-service-worker.js`)\n    .then(registration => {\n        console.log('Service worker successfully registered.');\n        return registration;\n    })\n    .catch(error => console.error('Unable to register service worker.', error));\n}\n\n// Ask user permisson. Returns a promise.\nfunction askPermission() {\n    return new Promise((resolve, reject) => {\n        const permissionResult = Notification.requestPermission(function(result) {\n            resolve(result);\n        });\n        if (permissionResult) {\n            permissionResult.then(resolve, reject);\n        }\n    })\n    .then(permissionResult => {\n        if (permissionResult !== 'granted') {\n            throw new Error('We weren\\'t granted permission.');\n        }\n    });\n}\n\n// Subscribe to Push\nfunction subscribeUserToPush() {\n    return navigator.serviceWorker.register(`${process.env.PUBLIC_URL}/custom-service-worker.js`)\n    .then(registration => {\n        const subscribeOptions = {\n            userVisibleOnly: true,\n            applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n        };\n        return registration.pushManager.subscribe(subscribeOptions);\n    })\n    .then(function(pushSubscription) {\n        console.log('Received PushSubscription');\n        return pushSubscription;\n    });\n}\n\n// Susbcribe in Backend\nfunction sendSubscriptionToBackEnd(subscription, login) {\n    return fetch(`${process.env.REACT_APP_NOTIFY_URL}subscribe/${login}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(subscription)\n    })\n    .then(response => {\n        if (!response.ok) { throw new Error('Bad status code from server.'); }\n        return response.json();\n    })\n    .then(responseData => {\n        if (!(responseData.data && responseData.data.success)) {\n            throw new Error('Bad response from server.');\n        }\n    });\n}   \n\n// Convert vapid key to urlBase64 format\nfunction urlBase64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding)\n    .replace(/-/g, '+')\n    .replace(/_/g, '/');\n    \n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    \n    for (let i = 0; i < rawData.length; ++i) {\n        outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n}","// NPM Modules\n// Material UI\n// Own modules\n// Assets\nimport defaultAvatar from '../assets/images/user.png';\n// CSS\n\n// Endpoint\nconst API_URL = process.env.REACT_APP_API_URL.replace('/apiv1','');\n\n// Modelo sesión de usuario\nexport default class Session {\n    \n    /** Constructor\n     * @param {Object} Session \n     */    \n    constructor(user) {\n        this._id = user._id;\n        this.login = user.login;\n        this.name = user.name;\n        this.email = user.email;\n        this.jwt = user.token;\n        if (!user.avatar) {\n            user.avatar = '/images/avatars/avatar.png';\n        }\n        this.avatar = user.avatar.startsWith('/images/')?`${API_URL}${user.avatar}`:defaultAvatar;\n        this.file = user.file;\n        this.favorites = user.favorites;\n    }\n}","// NPM Modules\nimport Axios from 'axios';\nimport Querystring from 'querystring';\n// Material UI\n// Own modules\nimport Session from '../models/Session';\n// Assets\n// CSS\n\n// Endpoint\nconst API_URL = `${process.env.REACT_APP_API_URL}/authenticate`;\n\n/**\n* Objeto API\n*/\nexport default {\n  \n  /**\n  * Trata de hacer login contra el API\n  */\n  login: (login, password) => {\n    // Endpoint\n    let baseURL = `${API_URL}`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      Querystring.stringify({ login, password }),\n      { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\n    )\n    .then(res => new Session(res.data.user));\n  },\n\n  /**\n  * Trata de hacer login contra el API\n  */\n  loginWithToken: (jwt) => {\n    // Endpoint\n    let baseURL = `${API_URL}/token`;\n    // Call endpoint and return\n    return Axios.post(baseURL,  { headers: { 'Authorization': `Bearer ${jwt}`}})\n    .then(res => new Session(res.data.user));\n  },\n\n  /**\n  * Trata de hacer login contra el API\n  */\n  logout: (jwt) => {\n    // Endpoint\n    let baseURL = `${API_URL}/logout`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      { headers: { 'Authorization': `Bearer ${jwt}`} }\n    )\n    .then(res => 'JWT invalidated');\n  },\n\n  /**\n  * Solicita reseteo de contraseña\n  */\n  activate: (token) => {\n    // Endpoint\n    let baseURL = `${API_URL}/activate/${token}`;\n    // Call endpoint and return\n    return Axios.get(\n      baseURL,\n    )\n    .then(res => res);\n  },\n\n  /**\n  * Solicita reseteo de contraseña\n  */\n  resetRequest: (email) => {\n    // Endpoint\n    let baseURL = `${API_URL}/reset`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      Querystring.stringify({ email }),\n      { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\n    )\n    .then(res => res);\n  },\n\n  /**\n  * Resetea la contraseña\n  */\n  reset: (token, password) => {\n    // Endpoint\n    let baseURL = `${API_URL}/reset/${token}`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      Querystring.stringify({ password }),\n      { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\n    )\n    .then(res => res);\n  },\n}","// NPM Modules\n// Material UI\n// Own modules\n// Assets\n// CSS\n\n/**\n * Objeto para trabajar con local storage\n */\nconst LocalStorage = {\n\n    /**\n     * Salvar sesión en local storage\n     */\n    saveLocalStorage: (session) => {\n        if (session.name) {\n            localStorage.setItem(process.env.REACT_APP_LOCALSTORAGE_ID, JSON.stringify(session));\n        }\n    },\n\n    /**\n     * Recuperar sesión del local storage\n     */\n    readLocalStorage: () => {\n        try {\n            const session = localStorage.getItem(process.env.REACT_APP_LOCALSTORAGE_ID);\n            return JSON.parse(session)               \n        } catch (error) {\n            localStorage.clear();\n            return undefined;\n        }\n    },\n    \n    /**\n     * Clean local storage\n     */\n    cleanLocalStorage: () => {\n        localStorage.clear();\n    }\n}\n\n/**\n * Retorno el objeto\n */\nexport default LocalStorage;","// Authentication\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST'\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE'\nexport const LOGOUT_REQUEST = 'LOGOUT_REQUEST'\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS'\nexport const LOGOUT_FAILURE = 'LOGOUT_FAILURE'\nexport const LOGIN_TOKEN_REQUEST = 'LOGIN_TOKEN_REQUEST'\nexport const LOGIN_TOKEN_SUCCESS = 'LOGIN_TOKEN_SUCCESS'\nexport const LOGIN_TOKEN_FAILURE = 'LOGIN_TOKEN_FAILURE'\nexport const ACTIVATE_ACCOUNT_REQUEST = 'ACTIVATE_ACCOUNT_REQUEST'\nexport const ACTIVATE_ACCOUNT_FAILURE = 'ACTIVATE_ACCOUNT_FAILURE'\nexport const ACTIVATE_ACCOUNT_SUCCESS = 'ACTIVATE_ACCOUNT_SUCCESS'\nexport const REQUEST_RESET_ACCOUNT_REQUEST = 'REQUEST_RESET_ACCOUNT_REQUEST'\nexport const REQUEST_RESET_ACCOUNT_FAILURE = 'REQUEST_RESET_ACCOUNT_FAILURE'\nexport const REQUEST_RESET_ACCOUNT_SUCCESS = 'REQUEST_RESET_ACCOUNT_SUCCESS'\nexport const RESET_ACCOUNT_REQUEST = 'RESET_ACCOUNT_REQUEST'\nexport const RESET_ACCOUNT_FAILURE = 'RESET_ACCOUNT_FAILURE'\nexport const RESET_ACCOUNT_SUCCESS = 'RESET_ACCOUNT_SUCCESS'\n// Edit\nexport const EDIT_ACCOUNT_REQUEST = 'EDIT_ACCOUNT_REQUEST'\nexport const EDIT_ACCOUNT_FAILURE = 'EDIT_ACCOUNT_FAILURE'\nexport const EDIT_ACCOUNT_SUCCESS = 'EDIT_ACCOUNT_SUCCESS'\n// Create\nexport const CREATE_ACCOUNT_REQUEST = 'CREATE_ACCOUNT_REQUEST'\nexport const CREATE_ACCOUNT_FAILURE = 'CREATE_ACCOUNT_FAILURE'\nexport const CREATE_ACCOUNT_SUCCESS = 'CREATE_ACCOUNT_SUCCESS'\n// Delete\nexport const DELETE_ACCOUNT_REQUEST = 'DELETE_ACCOUNT_REQUEST'\nexport const DELETE_ACCOUNT_FAILURE = 'DELETE_ACCOUNT_FAILURE'\nexport const DELETE_ACCOUNT_SUCCESS = 'DELETE_ACCOUNT_SUCCESS'\n// Set favorites (user model)\nexport const SET_FAVORITE_REQUEST = 'SET_FAVORITE_REQUEST'\nexport const SET_FAVORITE_FAILURE = 'SET_FAVORITE_FAILURE'\nexport const SET_FAVORITE_SUCCESS = 'SET_FAVORITE_SUCCESS'\n","// Service worker (push notifications)\nimport * as serviceWorker from '../../serviceWorker';\n// API\nimport AuthServices from '../../services/AuthServices';\nimport UserServices from '../../services/UserServices';\n// Own modules\nimport LocalStorage from '../../utils/Storage';\n// Actions\nimport * as ACTIONS from '../types/SessionTypes';\n\n/**\n * Login con usuario y password\n * @param {String} login Login del usuario\n * @param {String} password Password del usuario\n */\nexport const login = (login, password) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(loginRequest());\n        return AuthServices.login(login, password)\n        .then(response => {\n            dispatch(loginSuccess(response));\n            LocalStorage.saveLocalStorage(getState().session);\n            // register service worker to receive push notifications\n            serviceWorker.register(login, extra.notify);\n            extra.history.push('/');\n            return response;\n        })\n        .catch (error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(loginFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst loginRequest = () => ({ type: ACTIONS.LOGIN_REQUEST });\nconst loginSuccess = session => ({ type: ACTIONS.LOGIN_SUCCESS, session });\nconst loginFailure = error => ({ type: ACTIONS.LOGIN_FAILURE, error });\n\n/**\n * Login con token\n */\nexport const loginWithToken = (jwt) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(loginWithTokenRequest());\n        return AuthServices.loginWithToken(jwt)\n        .then(response => {\n            // Distpatch login and save in local storage\n            dispatch(loginWithTokenSuccess(response));\n            LocalStorage.saveLocalStorage(getState().session);\n            // register service worker to receive push notifications\n            serviceWorker.register(getState().session.login, extra.notify);\n            extra.history.push('/');\n            return response;\n        })\n        .catch (error => {\n            LocalStorage.cleanLocalStorage();\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(loginWithTokenFailure(message));\n            throw message;\n        });\n    }\n};\n\nconst loginWithTokenRequest = () => ({ type: ACTIONS.LOGIN_TOKEN_REQUEST });\nconst loginWithTokenSuccess = session => ({ type: ACTIONS.LOGIN_TOKEN_SUCCESS, session });\nconst loginWithTokenFailure = error => ({ type: ACTIONS.LOGIN_TOKEN_FAILURE, error });\n\n/**\n * Logout\n */\nexport const logout = () => {\n    return async function(dispatch, getState, extra) {\n        dispatch(logoutRequest());\n        return AuthServices.logout(getState().session.jwt)\n        .then(response => {\n            // unregister service worker to receive push notifications\n            serviceWorker.unregister(getState().session.login);\n            // Distpatch logout and clear local storage\n            dispatch(logoutSuccess(response));\n            LocalStorage.cleanLocalStorage();\n            extra.history.push('/login');\n            return response;\n        })\n        .catch (error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(logoutFailure(message));\n            LocalStorage.cleanLocalStorage();\n            extra.history.push('/login');\n            throw message;\n        });\n    }\n};\n\nconst logoutRequest = () => ({ type: ACTIONS.LOGOUT_REQUEST });\nconst logoutSuccess = session => ({ type: ACTIONS.LOGOUT_SUCCESS, session });\nconst logoutFailure = error => ({ type: ACTIONS.LOGOUT_FAILURE, error });\n\n/**\n * Activate Account\n */\nexport const activateAccount = token => {\n    return async function(dispatch, getState, extra) {\n        dispatch(activateAccountRequest());\n        return AuthServices.activate(token)\n        .then((result) => {\n            LocalStorage.cleanLocalStorage();\n            dispatch(activateAccountSuccess());\n            return result;\n        })\n        .catch((error) => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(activateAccountFailure(message));;\n            throw message;\n        });\n    }\n};\n\nconst activateAccountRequest = () => ({ type: ACTIONS.ACTIVATE_ACCOUNT_REQUEST });\nconst activateAccountFailure = error => ({ type: ACTIONS.ACTIVATE_ACCOUNT_FAILURE, error });\nconst activateAccountSuccess = () => ({ type: ACTIONS.ACTIVATE_ACCOUNT_SUCCESS });\n\n/**\n * Activate Account\n */\nexport const createAccount = (login, name, email, password) => {\n    return async function(dispatch, getState, extra) {\n        dispatch(createAccountRequest());\n        return UserServices.create(login, name, email, password)\n        .then(user => {\n            LocalStorage.cleanLocalStorage();\n            dispatch(createAccountSuccess());\n            extra.history.push('/login');\n            return user;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(createAccountFailure(message));;\n            throw message;\n        });\n    }\n};\n\nconst createAccountRequest = () => ({ type: ACTIONS.CREATE_ACCOUNT_REQUEST });\nconst createAccountFailure = error => ({ type: ACTIONS.CREATE_ACCOUNT_FAILURE, error });\nconst createAccountSuccess = () => ({ type: ACTIONS.CREATE_ACCOUNT_SUCCESS });\n\n/**\n * Request reseta password\n */\nexport const requestResetAccount = email => {\n    return async function(dispatch, getState, extra) {\n        dispatch(requestResetAccountRequest());\n        return AuthServices.resetRequest(email)\n        .then(user => {\n            dispatch(requestResetAccountSuccess());\n            extra.history.push('/login');\n            return user;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(requestResetAccountFailure(message));;\n            throw message;\n        });\n    }\n};\n\nconst requestResetAccountRequest = () => ({ type: ACTIONS.REQUEST_RESET_ACCOUNT_REQUEST });\nconst requestResetAccountFailure = error => ({ type: ACTIONS.REQUEST_RESET_ACCOUNT_FAILURE, error });\nconst requestResetAccountSuccess = () => ({ type: ACTIONS.REQUEST_RESET_ACCOUNT_SUCCESS });\n\n/**\n * Reset password\n */\nexport const resetAccount = (token, password) => {\n    return async function(dispatch, getState, extra) {\n        dispatch(resetAccountRequest());\n        return AuthServices.reset(token, password)\n        .then(user => {\n            dispatch(resetAccountSuccess());\n            extra.history.push('/login');\n            return user;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(resetAccountFailure(message));;\n            throw message;\n        });\n    }\n};\n\nconst resetAccountRequest = () => ({ type: ACTIONS.RESET_ACCOUNT_REQUEST });\nconst resetAccountFailure = error => ({ type: ACTIONS.RESET_ACCOUNT_FAILURE, error });\nconst resetAccountSuccess = () => ({ type: ACTIONS.RESET_ACCOUNT_SUCCESS });\n\n/**\n * Guardar el anuncio en los favoritos del usuario\n * @param {String} slug Slug del anuncio que queremos guardar como favorito\n * @param {String} jwt Token para autenticar en la API\n */\nexport const setFavorite = (slug) => {\n    return async function(dispatch, getState, extra) {\n        dispatch(setFavoriteRequest());\n        return UserServices.setFavorite(slug, getState().session.jwt)\n        .then(response => {\n            response.advert.favorite = response.favorite;\n            dispatch(setFavoriteSuccess(response.advert));\n            return response.advert;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;\n            dispatch(setFavoriteFailure(message));\n            throw message;\n        });\n    }\n}\n\nconst setFavoriteRequest = () => ({ type: ACTIONS.SET_FAVORITE_REQUEST });\nconst setFavoriteFailure = error => ({ type: ACTIONS.SET_FAVORITE_FAILURE, error });\nconst setFavoriteSuccess = advert => ({ type: ACTIONS.SET_FAVORITE_SUCCESS, advert });\n\n/**\n * Editar datos de usuario\n * @param {Object} user Objeto con los nuevos datos del usuario\n * @param {String} jwt Token para autenticar en la API\n */\nexport const editUser = (user) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(editUserRequest());\n        return UserServices.edit(user, getState().session.jwt)\n        .then (response => {\n            dispatch(editUserSuccess(response))\n            extra.history.push('/');\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(editUserFailure(message));\n            throw message;\n        })\n    }\n};\n\nconst editUserRequest = () => ({ type: ACTIONS.EDIT_ACCOUNT_REQUEST });\nconst editUserFailure = error => ({ type: ACTIONS.EDIT_ACCOUNT_FAILURE, error });\nconst editUserSuccess = user => ({ type: ACTIONS.EDIT_ACCOUNT_SUCCESS, user });\n\n/**\n * Elimina una cuenta de usuario\n * @param {String} id Id del usuario a eliminar\n * @param {String} jwt Token para autenticar en la API\n */\nexport const deleteAccount = (id) => {   \n    return async function(dispatch, getState, extra) {\n        dispatch(deleteAccountRequest());\n        return UserServices.delete(id, getState().session.jwt)\n        .then (response => {\n            LocalStorage.cleanLocalStorage();\n            dispatch(logout);\n            dispatch(deleteAccountSuccess(response))\n            return response;\n        })\n        .catch(error => {\n            let message = error.response && error.response.data ? error.response.data.data : error.message;            \n            dispatch(deleteAccountFailure(message));\n            throw message;\n        })\n    }\n};\n\nconst deleteAccountRequest = () => ({ type: ACTIONS.DELETE_ACCOUNT_REQUEST });\nconst deleteAccountFailure = error => ({ type: ACTIONS.DELETE_ACCOUNT_FAILURE, error });\nconst deleteAccountSuccess = response => ({ type: ACTIONS.DELETE_ACCOUNT_SUCCESS, response });","// Node modules\nimport { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\n// Own components\nimport Favorites from './Favorites';\n// Own modules\nimport { AdvertsActions, SessionActions, FiltersActions } from '../../store/GlobalActions';\n\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        adverts: state.adverts,\n        lastCall: state.lastCall,\n        session: state.session,\n        ui: state.ui,\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n        setFavorite: (slug) => dispatch(SessionActions.setFavorite(slug)),\n        // Filters\n        setCurrentPage: pageNumber => dispatch(FiltersActions.setCurrentPage(pageNumber)),\n        // Adverts\n        fetchFavorites: () => dispatch(AdvertsActions.fetchFavorites()),\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(Favorites));","// Component\nimport ModalConfirm from './ModalConfirm';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\n\nexport default withNamespaces()(ModalConfirm);","// NPM Modules\nimport React, { useState } from 'react';\n// Material UI\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\n// Own modules\n// Models\n// Assets\nimport imgWarning from '../../assets/images/warning.png';\nimport imgConfirmation from '../../assets/images/confirmation.png';\n// CSS\nimport './styles.css';\n\n// Functional component to render an advert card\nexport default function ModalConfirm (props) {\n    \n    // Translate\n    const { t } = props;\n    \n    // Actions\n    const [visible, setVisible] = useState(props.visible);\n    const confirm = () => { setVisible(false); props.onConfirm(); }\n    const cancel = () => { setVisible(false); props.onCancel(); }\n\n    // Render\n    return(\n        <Dialog className='ModalConfirm' open={visible} onClose={cancel}>\n            <div className='ModalConfirm__Wrapper'>\n                <img src={props.type==='warning'?imgWarning:imgConfirmation} className='ModalConfirm__Image' alt='wallaclone-logo' />\n                <DialogTitle className='ModalConfirm__Title'>{props.title}</DialogTitle>\n                <DialogActions className='ModalConfirm__Actions'>\n                    <Button onClick={confirm} variant='contained' className='ButtonWc ButtonWc__Green'>{t('Aceptar')}</Button>\n                    <Button onClick={cancel} variant='contained' color='secondary'>{t('Cancelar')}</Button>\n                </DialogActions>\n            </div>\n        </Dialog>\n    );\n}","// Node modules\nimport { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\nimport { withNamespaces } from 'react-i18next';\n// Own Components\nimport Published from './Published';\n// Models\n// Own modules\nimport { AdvertsActions, SessionActions, FiltersActions } from '../../store/GlobalActions';\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        adverts: state.adverts,\n        session: state.session,\n        ui: state.ui,\n        lastCall: state.lastCall\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n        setFavorite: (slug) => dispatch(SessionActions.setFavorite(slug)),\n        // Filters\n        setCurrentPage: pageNumber => dispatch(FiltersActions.setCurrentPage(pageNumber)),\n        // Adverts\n        deleteAdvert: (slug) => dispatch(AdvertsActions.deleteAdvert(slug)),\n        bookAdvert: (slug) => dispatch(AdvertsActions.bookAdvert(slug)),\n        sellAdvert: (slug) => dispatch(AdvertsActions.sellAdvert(slug)),\n        fetchUserAdverts: (slug) => dispatch(AdvertsActions.fetchUserAdverts(slug)),\n        fetchIterateAdverts: direction => dispatch(AdvertsActions.fetchIterateAdverts(direction)),\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(withNamespaces()(Published)));","// NPM Modules\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\n// Material UI\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\n// Components\nimport ModalConfirm from '../../components/ModalConfirm';\nimport AdvertList from '../../components/AdvertList';\nimport Footer from '../../components/Footer';\nimport NavBar from '../../components/NavBar';\n\n// Own modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\n// Published adverts section\nexport default function Published (props) {\n    \n    // Translate\n    const { t } = props;\n\n    // Destructure props\n    const { enqueueSnackbar, fetchUserAdverts, setCurrentPage, fetchIterateAdverts } = props;\n    const { start, end, totalCount } = props.lastCall;\n    const { login } = props.match.params;\n    const { currentPage, isFetching } = props.ui;\n    const { adverts } = props;\n\n    // Cargo anuncios del usuario solicitado\n    useEffect(() => {\n        fetchUserAdverts(login)\n        .catch(error => enqueueSnackbar(t('Error loading USER adverts ERROR', {user: login, error}), { variant: 'error' }));\n    }, [fetchUserAdverts, enqueueSnackbar, login, t]);\n\n    // Paginación sobre la colección de anuncios\n    const onFetchIterateAdverts = (direction) => {\n        return fetchIterateAdverts(direction)\n        .catch(error => enqueueSnackbar(t('Error iterating adverts ERROR', {error}), { variant: 'error' }));\n    }\n\n    // Favorito\n    const favoriteAdvert = (slug) => {\n        props.setFavorite(slug)\n        .catch(error => props.enqueueSnackbar(t('Error adding advert to favorite ERROR', {error}), { variant: 'error' }));\n    }\n\n    // Reservado\n    const bookAdvert = slug => {\n        props.bookAdvert(slug)\n        .catch(error => enqueueSnackbar(t('Error setting advert as booked ERROR', {error}), { variant: 'error' }));\n    };\n\n    // Vendido\n    const sellAdvert = slug => {\n        props.sellAdvert(slug)\n        .catch(error => enqueueSnackbar(t('Error setting advert as sold ERROR', {error}), { variant: 'error', }));\n    };\n    \n    // Borrar anuncio\n    const [showModalDelete, setShowModalDelete] = useState(false);\n    const [slug, setSlug] = useState(undefined);\n    const deleteAdvertRequest = slug => {\n        setSlug(slug)\n        setShowModalDelete(true);\n    }\n    const confirmDeleteAdvert = () => {\n        setShowModalDelete(false);\n        if (slug) {\n            props.deleteAdvert(slug)\n            .then(res => enqueueSnackbar(t('Advert SLUG deleted', {slug}), { variant: 'success', }))\n            .catch(error => enqueueSnackbar(t('Error deleting advert ERROR', {error}), { variant: 'error', }));    \n        } else {\n            enqueueSnackbar(t('Error identifying advert to be deleted'), { variant: 'error', });    \n        }\n    };\n    const cancelDeleteAdvert = () => {\n        setSlug(undefined)\n        setShowModalDelete(false);\n    };\n   \n    // Render\n    return (\n        <React.Fragment>\n            <NavBar session={props.session} onLogout={props.logout}/>\n            <Container className='Container__Fill'>\n                <main className='Main__Section Published'>\n                    {  ( props.session.login && login === props.session.login ) &&\n                        <div className='Section__Content'>\n                            <div className='Content__Title'>\n                                <h1 className='Title'>Tus productos</h1>\n                                <p className='Counter'><span>{totalCount}</span> {t('products')}</p>\n                            </div>\n                            <p className='Text'>Aquí puedes gestionar tus anuncios en venta: reservarlos, marcarlos como vendidos y eliminarlos. Utiliza el botón para subir nuevos productos...</p>\n                            <Button className='Button__AddProduct' variant='contained' color='primary' component={Link} to='/advert/create'>\n                                {t('Add product')}\n                            </Button>\n                        </div>\n                    }\n                    {  ( !props.session.login || login !== props.session.login ) &&\n                        <div className='Section__Content'>\n                            <div className='Content__Title'>\n                                <h1 className='Title'>Los productos de <i>'{login}'</i></h1>\n                                <p className='Counter'><span>{totalCount}</span> {t('products')}</p>\n                            </div>\n                            <p className='Text'>Echa un vistazo a todos los anuncios que tiene publicados un usuario, y añadelos a tus favoritos para recibir notificaciones de tu inter...</p>\n                        </div>\n                    }\n                    <AdvertList \n                        type='list' \n                        start={start}\n                        end={end}\n                        totalCount={totalCount}\n                        currentPage={currentPage}\n                        adverts={adverts}\n                        showEdit={props.session.login && login === props.session.login}\n                        showFavorite={props.session.login && login !== props.session.login}\n                        isFetching={isFetching}\n                        onBookAdvert={bookAdvert}\n                        onSellAdvert={sellAdvert}\n                        onDeleteAdvert={deleteAdvertRequest}\n                        onFavoriteAdvert={favoriteAdvert}\n                        onSetCurrentPage={setCurrentPage}\n                        onfetchIterateAdverts={onFetchIterateAdverts}\n                    />\n                </main>\n                {   showModalDelete && \n                    <ModalConfirm   onConfirm={confirmDeleteAdvert} \n                                    onCancel={cancelDeleteAdvert} \n                                    visible={true} type='warning'\n                                    title={t('Are you sure to delete the advert?')}\n                    /> \n                }\n            </Container>\n            <Footer session={props.session} onLogout={props.logout} active='Published'/>\n        </React.Fragment>\n    );\n}","// Component\nimport AdvertDetail from './AdvertDetail'\n// HOCs\nimport withAdvertActions from '../withAdvertActions';\nimport { withNamespaces } from 'react-i18next';\n\nexport default withAdvertActions(withNamespaces()(AdvertDetail));\n","// NPM Modules\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport Moment from 'react-moment';\nimport i18n from '../../utils/i18n';\n// Material UI\nimport BookmarkBorderOutlinedIcon from '@material-ui/icons/BookmarkBorderOutlined';\nimport DeleteOutlineOutlinedIcon from '@material-ui/icons/DeleteOutlineOutlined';\nimport AttachMoneyOutlinedIcon from '@material-ui/icons/AttachMoneyOutlined';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\n// Own Components\nimport AdvertChip from '../AdvertChip';\nimport CardImage from '../cards/CardImage/CardImage';\n// Own Modules\n// Models\n// Components\n// Assets\n// CSS\nimport './styles.css';\n\n// Component to display an advert\nexport default function AdvertDetail(props) {\n\n    // Props destructuring\n    const { slug, name, description, photo, tags, price, sold, booked, type, favorite, createdAt, user } = props.advert;\n    const { t } = props;\n\n    // Chip\n    const renderTags = () => tags.map((value,i) => <AdvertChip key={i} type='tag' value={value}/>);\n\n    // Render\n    return (\n        <article id={`adslug_${slug}`} className='AdvertDetail'>\n            <div className='AdvertDetail__Photo'>\n                <CardImage slug={slug} sold={sold} booked={booked} photo={photo}/>\n            </div>\n            <div className='AdvertDetail__Content'>\n                <AdvertChip type='type' value={type}/>\n                <div>\n                    <h1 className='AdvertDetail__Title'>{name}</h1>\n                    <Moment className='AdvertDetail__Date' locale={i18n.language} fromNow>{createdAt}</Moment>\n                </div>\n                <p className='AdvertDetail__Description'>{description}</p>\n                <div className='AdvertDetail__Tags'>{renderTags()}</div>\n                <div className='AdvertDetail__Footer'>\n                    <div className='AdvertDetail__AuthorAvatar'>\n                        <Link to={`/published/${user.login}`} className=''>\n                            <div>\n                                <Avatar className='Avatar' alt='avatar' src={user.avatar}/>\n                                <span className='AdvertDetail__Author'>{user && user.name}</span>\n                            </div>\n                        </Link>\n                    </div>\n                    <p className='AdvertDetail__Price'>{price} <span>€</span></p>\n                </div>\n            </div>\n            <div className='AdvertDetail__Buttons'>\n                {   props.showFavorite && \n                    <Button startIcon={<FavoriteIcon className={`FavoriteIcon FavoriteIcon--${favorite?'On':'White'}`}/>} \n                            className='ButtonWc ButtonWc__Green Span2'\n                            onClick={props.setFavoriteAdvert}>\n                        {t('Favorite')}\n                    </Button>\n                }\n                {   props.showEdit && \n                    <React.Fragment>\n                        <Button className='ButtonWc ButtonWc__Green Span2'\n                                startIcon={<EditIcon />} \n                                component={Link} \n                                to={`/advert/edit/${slug}`}\n                                disabled={booked || sold}>\n                                {t('Edit')}\n                        </Button>\n                        <Button className='ButtonWc ButtonWc__Green' \n                                onClick={props.setBookAdvert}\n                                startIcon={<BookmarkBorderOutlinedIcon/>}\n                                disabled={sold}>\n                                {t('Book')}\n                        </Button>\n                        <Button className='ButtonWc ButtonWc__Green' \n                                onClick={props.setSellAdvert}\n                                startIcon={<AttachMoneyOutlinedIcon/>}>\n                                {t('Sold')}\n                        </Button>\n                        <Button className='ButtonWc ButtonWc__Red Span2' \n                                onClick={props.setDeleteAdvert}\n                                startIcon={<DeleteOutlineOutlinedIcon/>}\n                                disabled={sold}>\n                                {t('Delete')}\n                        </Button>\n                    </React.Fragment>\n                }\n                \n            </div>\n        </article>\n    );\n}\n\nAdvertDetail.propTypes = {\n  advert: PropTypes.instanceOf(Object).isRequired,\n  isFetching: PropTypes.bool,\n  error: PropTypes.string,\n}","// NPM Modules\nimport React from 'react';\n// Material UI\n// Own modules\n// Assets\nimport imageSpinner from '../../assets/images/spinner.gif';\n// CSS\nimport './styles.css';\n// Assets\n\n// Component to display a loading panel\nexport default function Loading(props) {\n    \n    return (\n        <div className='Loading'>\n            <img src={imageSpinner} className='Loading__Spinner' alt='spinner'/>\n            <h2 className='Loading__Text'>{props.text}</h2>\n        </div>\n    );\n}","// Component\nimport Error from './Error';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\n\nexport default withNamespaces()(Error);","// NPM Modules\nimport React from 'react';\n// Material UI\n// Own modules\n// Assets\nimport image404 from '../../assets/images/404.png';\nimport imageError from '../../assets/images/warning.png';\n// CSS\nimport './styles.css';\n// Assets\n\n\n// Component para el display de error (functional component)\nexport default function Error(props) {\n\n    const { t } = props;\n    \n    const Error404 = () => \n        <div className='Error'>\n            <img src={image404} alt=\"404\" />\n            <h1>{t('Oooppps! The page you are looking for was not found!')}</h1>\n        </div>\n\n    const OtherError = () => \n        <div className='Error'>\n            <img src={imageError} alt=\"error\" />\n            <h2>{t('Oooops! Something went wrong!')} </h2>\n            <p>{props.error}</p>\n            <h3>{t('Please, reload page. Or contact the admin.')}</h3>\n        </div>            \n\n    return (<div className='Error'>{props.type==='404'?Error404():OtherError()}</div>);\n}","// NPM Modules\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withNamespaces } from 'react-i18next';\nimport { Link } from \"react-router-dom\";\n// Material UI\nimport Container from '@material-ui/core/Container';\n// Components\nimport AdvertDetail from '../../components/AdvertDetail';\nimport ModalConfirm from '../../components/ModalConfirm';\nimport Loading from '../../components/Loading';\nimport NavBar from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport Error from '../../components/Error';\n// Own Modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\n/**\n * Main App\n */\nfunction Detail(props) {\n\n    // Translate \n    const { t } = props;\n\n    // Propiedades del index\n    const { fetchAdvert, enqueueSnackbar } = props;\n    const { slug } = props.match.params;\n\n    // Load advert from API\n    const [advert, setAdvert] = useState();\n    useEffect(() => {\n        fetchAdvert(slug)\n        .then (advert => setAdvert(advert))\n        .catch(error => enqueueSnackbar(t('Error loading advert ERROR', {error}), { variant: 'error' }));\n    }, [slug, enqueueSnackbar, fetchAdvert, t]);\n\n    // Marcar como vendido un anuncio\n    const setSellAdvert = () => {\n        props.sellAdvert(advert.slug)\n        .then (ad => setAdvert({...advert, sold: ad.sold, booked: ad.booked,}))\n        .catch(error => enqueueSnackbar(t('Error setting advert as sold ERROR', {error}), { variant: 'error' }));\n    }\n\n    // Marcar como reservado un anuncio\n    const setBookAdvert = () => {\n        props.bookAdvert(advert.slug)\n        .then (ad => setAdvert({...advert, booked: ad.booked, sold: ad.sold}))\n        .catch(error => enqueueSnackbar(t('Error setting advert as booked ERROR', {error}), { variant: 'error' }));\n    }\n\n    // Marcar como favorito un anuncio  \n    const setFavoriteAdvert = () => {\n        props.setFavorite(advert.slug)\n        .then (ad => setAdvert({...advert, favorite: ad.favorite}))\n        .catch(error=> enqueueSnackbar(t('Error adding advert to favorite ERROR', {error}), { variant: 'error' }));\n    }\n\n    // Borrar anuncio\n    const [showModalDelete, setShowModalDelete] = useState(false);\n    const deleteAdvertRequest = () => {\n        setShowModalDelete(true);\n    }\n    const confirmDeleteAdvert = () => {\n        setShowModalDelete(false);\n        if (slug) {\n            props.deleteAdvert(slug)\n            .then(res => enqueueSnackbar(t('Advert SLUG deleted', {slug}), { variant: 'success', }))\n            .catch(error => enqueueSnackbar(t('Error deleting advert ERROR', {error}), { variant: 'error', }));    \n        } else {\n            enqueueSnackbar(t('Error identifying advert to be deleted'), { variant: 'error', });    \n        }\n    };\n    const cancelDeleteAdvert = () => {\n        setShowModalDelete(false);\n    };\n\n    // Render\n    return (\n        <React.Fragment>\n            <NavBar session={props.session} onLogout={props.logout}/>\n            <Container className='Container__Fill'>\n                <main className='Main__Section Detail'>\n                    <div className='Section__Content'>\n                        <div className='Content__Title'>\n                            <h1 className='Title'>Detalle del anuncio</h1>\n                        </div>\n                        <p className='Text'>Visualice los datos detallados del anuncio, y pongase en contacto con el propietario en caso de estar interesado... </p>\n                        <p className='Text'>También pued añadir el anuncio a sus <Link to={`/favorites/`}>favoritos</Link>, para recibir notificaciones en caso de que\n                            tenga cambios relevantes.</p>\n                    </div>\n                    { advert && \n                        <AdvertDetail\n                            advert={advert}\n                            showEdit={advert.user && props.session._id === advert.user._id}\n                            showFavorite={advert.user && props.session._id !== advert.user_id}\n                            onSellAdvert={setSellAdvert}\n                            onBookAdvert={setBookAdvert}\n                            onFavoriteAdvert={setFavoriteAdvert}\n                            onDeleteAdvert={deleteAdvertRequest}\n                        />\n                    }\n                { props.error && <Error error={props.error}/>}\n                { props.isFetching && <Loading text={t('Loading advert')}/> }\n                </main>\n                {   showModalDelete && \n                    <ModalConfirm   onConfirm={confirmDeleteAdvert} \n                                    onCancel={cancelDeleteAdvert} \n                                    visible={true} type='warning'\n                                    title={t('Are you sure to delete the advert?')}\n                    /> \n                }\n            </Container>\n            <Footer session={props.session} onLogout={props.logout}/>\n        </React.Fragment>\n    );\n}\n\nAdvertDetail.propTypes = {\n    isUpdating: PropTypes.bool,\n    error: PropTypes.string,\n}\n\nexport default withNamespaces()(Detail);","// Node modules\nimport { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\n// Own components\nimport Detail from './Detail';\n// Own modules\nimport { AdvertsActions, SessionActions } from '../../store/GlobalActions';\n\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        session: state.session,\n        isFetching: state.ui.isFetching,\n        error: state.ui.error\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n        setFavorite: (slug) => dispatch(SessionActions.setFavorite(slug)),\n        // Adverts\n        fetchAdvert: (slug) => dispatch(AdvertsActions.fetchAdvert(slug)),\n        bookAdvert: (slug) => dispatch(AdvertsActions.bookAdvert(slug)),\n        sellAdvert: (slug) => dispatch(AdvertsActions.sellAdvert(slug)),\n        deleteAdvert: (slug) => dispatch(AdvertsActions.deleteAdvert(slug)),\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(Detail));","// NPM Modules\nimport React, { Component } from 'react';\n// Material UI\n// Own modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\n// Contexto generado por el HOC\nexport const Context = React.createContext();\n\n// Componente formulario genérico utilizando HOC\nconst withForm = (WrappedComponent) => {\n\n    /**\n     * Formulario genérico\n     */\n    return class Form extends Component {\n        \n        // Constructor\n        constructor(props) {\n            super(props);\n            this.state = {...props.initial}\n        }\n\n        // Cambio en alguno de los campos del formulario de tipo input text\n        handleInputChange = event => {\n            this.setState({ [event.target.name]: event.target.value });\n        }\n\n        // Cambio en alguno de los campos del formulario de tipo input checkbox\n        handleCheckChange = event => {\n            this.setState({ [event.target.name]: event.target.checked });\n        }\n        \n        // Cambio en alguno de los campos del formulario de tipo selector de multiple option\n        handleChangeMultiple = event => {\n            this.setState({ [event.target.name]: event.target.value });\n        };\n\n        // Cambio en un input tipo number\n        handleChangeNumber = event => {\n            this.setState({ [event.target.name]: parseFloat(event.target.value) });\n        }\n\n        // Evento submit\n        handleSubmit = event => {\n            event.preventDefault();\n            this.props.onSubmit(this.state);\n        }\n        \n        // Render\n        render() {\n            return (\n                <Context.Provider value={{\n                    inputs: this.state, \n                    handleInputChange: this.handleInputChange, \n                    handleCheckChange: this.handleCheckChange,\n                    handleChangeMultiple: this.handleChangeMultiple, \n                    handleChangeNumber: this.handleChangeNumber\n                }}>\n                    <WrappedComponent \n                        {...this.props}\n                        onSubmit={this.handleSubmit}\n                    />\n                </Context.Provider>\n            )\n        }\n    }\n};\n\nexport default withForm;","// NPM Modules\nimport React from 'react';\n// Material UI\n// Own modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\nimport withForm from './withForm';\n\n/**\n * Component reutilizable para formularios. Lo exporto envuelto en el HOC que me aporta\n * las funcionalidades para controlar un cambio en los inputs/checbox y submit\n */\nconst Form = ({children, ...props}) => <form {...props}>{children}</form>\n\nexport default withForm(Form);\n","// NPM Modules\nimport React, { useContext } from 'react';\n// Material UI\nimport { InputAdornment, FormControl, Input, InputLabel } from '@material-ui/core';\n// Models\n// Own modules\nimport { Context } from '../Form';\n// CSS\n\n\n// Componente reutilizable de tipo Input (usando material)\nexport default function InputForm(props) {\n\n    // Uso del contexto que envuelve al HOC del formulario\n    const context = useContext(Context);\n\n    // Adornments\n    const start = props.icon?<InputAdornment position='start' className='InputIcon__Icon'>{props.icon}</InputAdornment>:undefined;\n    \n    // Render\n    return (\n        <FormControl className='InputForm'>\n            { props.label && <InputLabel shrink htmlFor={props.name}>{props.label}</InputLabel> }\n            <Input\n                name={props.name}\n                value={context.inputs[props.name] || ''}\n                onChange={context.handleInputChange}\n                type={props.type}\n                placeholder={props.placeholder}\n                startAdornment={start}\n                endAdornment={props.endAdornment}\n                required={props.required}\n                inputProps={{ maxLength: props.maxLength }}\n                autoComplete={props.autoComplete}\n            />\n        </FormControl>\n    )\n}","// NPM Modules\nimport React, { useContext } from 'react';\n// Material UI\nimport { Select, FormControl, MenuItem, InputLabel } from '@material-ui/core';\n// Models\n// Own components\nimport AdvertChip from '../../AdvertChip';\n// Own modules\nimport { Context } from '../Form';\n// CSS\n\n\n// Componente reutilizable de tipo Input (usando material)\nexport default function SelectForm(props) {\n\n    // Uso del contexto que envuelve al HOC del formulario\n    const context = useContext(Context);\n\n    // Render\n    return (\n        <FormControl className='InputForm'>\n            { props.label && <InputLabel shrink htmlFor={props.name}>{props.label}</InputLabel> }\n            <Select\n                name={props.name}\n                value={context.inputs[props.name]}\n                onChange={context.handleInputChange}\n                className='SearchPanel__Type'\n            >\n                { props.options.map(option => <MenuItem key={option} value={option}><AdvertChip type='type' value={option}/></MenuItem>) }\n            </Select>\n        </FormControl>\n    )\n}","// NPM Modules\nimport React, {useContext} from 'react';\n// Material UI\nimport { TextField, FormControl, InputLabel } from '@material-ui/core';\n// Models\n// Own modules\nimport { Context } from '../Form';\n// CSS\nimport './styles.css'\n\n\n// Componente reutilizable de tipo Input (usando material)\nexport default function TextAreaForm(props) {\n\n    // Uso del contexto que envuelve al HOC del formulario\n    const context = useContext(Context);\n\n    // Render\n    return (\n        <FormControl className='InputForm TextAreaForm'>\n            { props.label && <InputLabel shrink htmlFor={props.name}>{props.label}</InputLabel> }\n            <TextField\n                name={props.name}\n                value={context.inputs[props.name] || ''}\n                onChange={context.handleInputChange}\n                required={props.required}\n                multiline={true}\n                rows={3}\n                inputProps={{ maxLength: props.maxLength }}\n            />\n        </FormControl>\n    )\n}","// NPM Modules\nimport React, {useContext} from 'react';\n// Material UI\nimport { Select, FormControl, MenuItem, InputLabel } from '@material-ui/core';\n// Models\n// Own components\nimport AdvertChip from '../../AdvertChip';\n// Own modules\nimport { Context } from '../Form';\n// CSS\nimport './styles.css';\n\n\n// Componente reutilizable de tipo Input (usando material)\nexport default function SelectMultipleForm(props) {\n\n    // Uso del contexto que envuelve al HOC del formulario\n    const context = useContext(Context);\n    // Render\n    return (\n        <FormControl fullWidth className='AdvertEdit__FormControl'>\n            { props.label && <InputLabel shrink htmlFor={props.name}>{props.label}</InputLabel> }\n            <Select\n                multiple\n                name={props.name}\n                value={context.inputs[props.name] || props.initial}\n                onChange={context.handleChangeMultiple}\n                renderValue={()=><div className='SelectMultipleForm'>{context.inputs[props.name].map(value=><AdvertChip key={value} type='tag' value={value}/>)}</div>}\n                >\n                {   props.options.map((value, key) => <MenuItem key={key} value={value}><AdvertChip type={props.chip} value={value}/></MenuItem>) }\n            </Select>\n        </FormControl>\n    )\n}","// Component \nimport AdvertEditForm from './AdvertEditForm';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\nexport default withNamespaces()(AdvertEditForm);\n","// NPM Modules\nimport React, { useState, useRef } from 'react';\nimport { Link } from \"react-router-dom\";\n// Material UI\nimport EuroIcon from '@material-ui/icons/Euro';\nimport Button from '@material-ui/core/Button';\n// Own components\nimport Form from '../forms/Form';\nimport InputForm from '../forms/InputForm';\nimport SelectForm from '../forms/SelectForm';\nimport TextAreaForm from '../forms/TextAreaForm';\nimport SelectMultipleForm from '../forms/SelectMultipleForm';\n// Models\nimport { ADVERT_CONSTANTS } from '../../models/Advert';\n// Own modules\n// Assets\nimport photoDefault from '../../assets/images/product.png';\n// CSS\nimport './styles.css';\n\n// Formulario de perfil de usuario\nexport default function AdvertEditForm(props) {\n   \n    // Props destructuring\n    const { t } = props;\n    const submit = (inputs) => {\n        if (fileTemp) {\n            inputs.file = fileTemp;\n            inputs.photo = '';\n            inputs.thumbnail = '';\n        }\n        props.onSubmit(inputs);\n    }\n\n    // Open input file\n    const openInputFile = () => refInputFile.current.click();\n  \n    // Handle close modal\n    const refInputFile = useRef(undefined);\n    const [fileTemp, setFileTemp] = useState();\n    const [photoTemp, setPhotoTemp] = useState(props.advert.photo);\n    const changeInputFile = (ev) => {\n        ev.stopPropagation();\n        ev.preventDefault();\n        const aux = ev.target.files[0];\n        setFileTemp(aux);\n        setPhotoTemp(URL.createObjectURL(aux));\n    }\n\n    // Render\n    return (\n        <Form className='AdvertEditForm' onSubmit={submit} initial={props.advert}>\n            <div className='AdvertEditForm__Photo'>\n                <span className='AdvertEditForm__Photo--overlay' onClick={openInputFile}>{t('change advert photo')}</span>\n                <input type='file' id='file' ref={refInputFile} style={{display: 'none'}} onChange={changeInputFile} />\n                <img src={photoTemp || photoDefault} alt='thumbnail'/>\n            </div>\n            <div className='AdvertEditForm__Inputs'>\n                <SelectForm name='type' label={t('Type')} options={[ADVERT_CONSTANTS.TYPE.BUY, ADVERT_CONSTANTS.TYPE.SELL]} initial={ADVERT_CONSTANTS.TYPE.SELL} required/>\n                <InputForm name='name' type='text' label={t('Name')} maxLength={\"40\"} required/>\n                <SelectMultipleForm name='tags' label={t('Tags')} options={props.tags} initial={[]} chip='tag' required/>\n                <InputForm name='price' type='number' label={t('Price')} required maxLength={10} endAdornment={<EuroIcon/>}/>\n                <TextAreaForm name='description' label={t('Description')} placeholder={t('Enter an advert description')} maxLength={\"150\"} required rows={2}/>\n            </div>\n            <div className='AdvertEditForm__Buttons'>\n                <Button type='submit' variant='contained' color='primary'> {props.t('Save')} </Button>\n                <Button type='button' variant='contained' color='secondary' component={Link} to='/'> {props.t('Cancel')} </Button>\n            </div>\n        </Form>\n    );\n}","// NPM Modules\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withNamespaces } from 'react-i18next';\nimport { Link } from \"react-router-dom\";\n// Material UI\nimport Container from '@material-ui/core/Container';\n// Components\nimport AdvertEditForm from '../../components/AdvertEditForm';\nimport NavBar from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport Loading from '../../components/Loading';\nimport Error from '../../components/Error';\n// Models\nimport Advert, { EMPTY_ADVERT } from '../../models/Advert';\n// Assets\n// CSS\nimport './styles.css';\n\n\n// Componente de sección editar anuncios\nfunction Edit(props) {\n\n    // Props destructuring\n    const { fetchAdvert, mode, t} = props;\n    const { slug } = props.match.params.slug;\n    const { isFetching, isUpdating, isCreating, error } = props.ui;\n\n    // Load inicial\n    const [ advert, setAdvert ] = useState();\n    useEffect(() => {\n        if (mode === 'edit') {\n            fetchAdvert(slug)\n            .then (advert => setAdvert(advert))\n            .catch(error  => console.error(error));\n        } else {\n            setAdvert(new Advert(EMPTY_ADVERT))\n        }\n    }, [fetchAdvert, slug, mode])\n\n    // Manejador del submit del formulario\n    const submitAdvert = (inputs) => {\n        // Creo un anuncio con los datos del estado y lo valido\n        const newAdvert = new Advert(inputs);\n        if (!newAdvert.isValid() || ( !inputs.file && !inputs.photo )) {\n            props.enqueueSnackbar(t('Advert data is incomplete'), { variant: 'error' });\n        } else {\n            // Lanzando operacion al backend\n            if (mode === 'create') {\n                props.createAdvert(newAdvert)\n                .then (res => props.enqueueSnackbar(t('Advert X created', { slug: res.slug}), { variant: 'success' }))\n                .catch(error => props.enqueueSnackbar(t('Error creating advert ERROR', {error}), { variant: 'error' }));\n            } else {\n                props.editAdvert(newAdvert)\n                .then (res => props.enqueueSnackbar(t('Advert X updated', {slug: res.slug}), { variant: 'success' }))\n                .catch(error => props.enqueueSnackbar(t('Error updating advert ERROR', {error}), { variant: 'error' }));\n            }\n        } \n    }\n\n    // Render\n    return (\n        <React.Fragment>\n            <NavBar session={props.session} onLogout={props.logout}/>\n            <Container className='Container__Fill'>\n                <main className='Main__Section Edit'>\n                    <div className='Section__Content'>\n                        <div className='Content__Title'>\n                            { mode === 'edit' && <h1 className='Title'>Edita anuncio</h1> }\n                            { mode === 'create' && <h1 className='Title'>Crear anuncio</h1> }\n                        </div>\n                        { mode === 'edit' && \n                            <React.Fragment>\n                                <p className='Text'>Edite los datos de su anuncio (tipo, nombre, etiquetas, precio y descripción). Seleccione una imagen para el mismo,\n                                    y pulse en guardar para hacerlos permanentes... </p>\n                                <p className='Text'>Desde esta sección no puede modificar las propiedades <b>vendido</b> y <b>reservado</b>. \n                                    Para ello puede acudir a la sección <Link to={`/published/${props.session.login}`}>publicados</Link> o\n                                    al <Link to={`/advert/${advert && advert.slug}`}>detalle</Link> del anuncio.</p>\n                            </React.Fragment>\n                        }\n                        { mode === 'create' &&\n                            <React.Fragment>\n                                <p className='Text'>Rellene los datos del nuevo anuncio, seleccione una imagen del mismo,  y pulse en salvar para publicarlo en nuestra app.</p>\n                                <p className='Text'>A partir de ese moment podrá visualizarlo y gestionarlo en su sección de <Link to={`/published/${props.session.login}`}>publicados</Link></p>\n                            </React.Fragment>\n                        }\n                    </div>\n                    { advert &&\n                        <AdvertEditForm noValidate \n                                        autoComplete='off' \n                                        className='Profile__Form'\n                                        advert={advert}\n                                        onSubmit={submitAdvert}\n                                        tags={props.tags}\n                        />\n                    }\n                    { isFetching && <Loading text={'fetching advert'}/> }\n                    { ( isUpdating || isCreating ) && <Loading text={mode === 'edit' ? t('Trying to edit advert...') : t('Trying to create advert...') }/> }\n                    { error && <Error error={error}/> }\n                </main>\n            </Container>\n            <Footer session={props.session} onLogout={props.logout}/>\n        </React.Fragment>\n    );\n}\n\nEdit.propTypes = {\n  mode: PropTypes.oneOf(['edit', 'create']).isRequired,\n}\n\nexport default withNamespaces()(Edit);","// Node modules\nimport { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\n// Own components\nimport Edit from './Edit';\n// Own modules\nimport { AdvertsActions, SessionActions } from '../../store/GlobalActions';\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        session: state.session,\n        tags: state.tags,\n        ui: state.ui\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n        // Adverts\n        fetchAdvert: (slug) => dispatch(AdvertsActions.fetchAdvert(slug)),\n        editAdvert: (advert) => dispatch(AdvertsActions.editAdvert(advert)),\n        createAdvert: (advert) => dispatch(AdvertsActions.createAdvert(advert))\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(Edit));\n\n/*  Lo anterior es equivalente a esto. Porque uso exactamente el mismo nombre de función que en el dispatch.\n    Y además uso exactamente los mismos parámetros:\n    ----------------------------------------------------\n    const mapDispatchToProps = {\n        editAdvert,\n        createAdvert\n    }\n\n    O incluso más reducido aun:\n    ----------------------------------------------------\n    import * as actions from '../../store/actions';\n    const mapDispatchToProps = actions;\n*/","// NPM Modules\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport FaceIcon from '@material-ui/icons/Face';\nimport Button from '@material-ui/core/Button';\n// Own components\nimport InputForm from '../forms/InputForm';\nimport Form from '../forms/Form';\n// Models\n// Own modules\n// Assets\nimport imageLogo from '../../assets/images/logo_large.png';\nimport imageSpinner from '../../assets/images/spinner.gif';\n// CSS\nimport './styles.css';\n\n// Dinamic render\nconst FORM_TYPES = {\n    requestReset: withNamespaces()(RequestResetForm),\n    register: withNamespaces()(RegisterForm),\n    reset: withNamespaces()(ResetForm),\n    login: withNamespaces()(LoginForm)\n};\n\n// Componente para renderizar cualquiera de los formularios de la sección de autenticación:\nexport default function AuthForm(props) {  \n    const submit = (inputs) => props.onSubmit(inputs);\n    const Content = FORM_TYPES[props.form];\n    return (\n        <div className='Login'>\n            <div className='Login__Wrapper'>\n                <Form className='Login__Form' onSubmit={submit}>\n                    <Link to='/'>\n                        <div className='Login__ImageWrapper'>\n                            <img src={imageLogo} className='Login__Logo' alt='wallaclone-logo' />\n                        </div>\n                    </Link>\n                    <Content/>\n                    <div className='LoadingSmall'>\n                    { props.isLoading && <img src={imageSpinner} className='LoadingSmall__Spinner' alt='spinner'/> }\n                    </div>\n                </Form>\n            </div>\n        </div>\n    );\n}\n\n// Login form\nfunction LoginForm(props) {\n    const { t } = props;\n    return (\n        <React.Fragment>\n            <input name='username' autoComplete='username' hidden></input> {/* Improve accessibility: https://goo.gl/9p2vKq)*/}\n            <InputForm name='login' type='login' placeholder={t('type your login')} maxLength={'15'} required icon={<PermIdentityIcon/>} autoComplete='username'/>\n            <InputForm name='password' type='password' placeholder={t('type your password')} maxLength={'15'} required icon={<LockOpenIcon/>} autoComplete='current-password'/>\n            <p className='Login__Help'>{t('enter your credentials to login')}</p>\n            <div className='Login__Buttons'>\n                <Button className='Button' type='submit' variant='contained' color='primary'> {t('Login')} </Button>\n                <Button className='Button' variant='contained' color='secondary' component={Link} to='/reset'> {t('Reset password')} </Button>\n                <Link className='Login__Link' to='/register'>{t('Create an account')}</Link>\n            </div>\n        </React.Fragment>\n    );\n}\n\n// Create new user form\nfunction RegisterForm(props) {\n    const { t } = props;\n    return (\n        <React.Fragment>\n            <InputForm name='login' type='text' placeholder={t('type your login')} maxLength={'15'} required icon={<PermIdentityIcon/>}/>\n            <InputForm name='name' type='text' placeholder={t('type your name')} maxLength={'30'} required icon={<FaceIcon/>}/>\n            <InputForm name='email' type='email' placeholder={t('type your email')} maxLength={'150'} required icon={<MailOutlineIcon/>} />\n            <InputForm name='password' type='password' placeholder={t('type your password')} autoComplete='on' maxLength={'15'} required icon={<LockOpenIcon/>}/>\n            <InputForm name='password_2' type='password' placeholder={t('repeat your password')} autoComplete='on' maxLength={'15'} required icon={<LockOpenIcon/>}/>\n            <p className='Login__Help'>{t('better use a gmail account to receive our emails')}</p>\n            <div className='Login__Buttons'>\n                <Button className='button' type='submit' variant='contained' color='primary'>{t('Create user')}</Button>\n                <Link className='Login__Link' to='/login'>{t('Go to login')}</Link>\n            </div>\n        </React.Fragment>\n    );\n}\n\n// Request reset password form\nfunction RequestResetForm(props) {\n    const { t } = props;\n    return (\n        <React.Fragment>\n            <InputForm name='email' type='email' placeholder={t('type your email')} maxLength={'150'} required icon={<PermIdentityIcon/>}/>\n            <p className='Login__Help'>{t('enter your email to restart your password')}</p>\n            <div className='Login__Buttons'>\n                <Button className='button' type='submit' variant='contained' color='primary'>{t('Send me an email')}</Button>\n                <Link className='Login__Link' to='/login'>{t('Go to login')}</Link>\n            </div>\n        </React.Fragment>\n    );\n}\n\n// Reset password form\nfunction ResetForm(props) {\n    const { t } = props;\n    return (\n        <React.Fragment>\n            <InputForm name='password' type='password' placeholder={t('type your password')} maxLength={'15'} autocomplete='on' required icon={<LockOpenIcon/>}/>\n            <InputForm name='password_2' type='password' placeholder={t('repeat your password')} maxLength={'15'} autocomplete='on' required icon={<LockOpenIcon/>}/>\n            <p className='Login__Help'>{t('enter your new password')}</p>\n            <div className='Login__Buttons'>\n                <Button className='button' type='submit' variant='contained' color='primary'>{t('Reset password')}</Button>\n                <Link className='Login__Link' to='/login'>{t('Go to login')}</Link>\n            </div>\n        </React.Fragment>\n    );\n}","// Component\nimport AuthForm from './AuthForm'\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\n\nexport default withNamespaces()(AuthForm);","// NPM Modules\nimport React, { useEffect } from 'react';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\n// Own components\nimport AuthForm from '../../components/AuthForm';\n// Models\n// Own modules\nimport LocalStorage from '../../utils/Storage';\n// Assets\n\n// Login\nfunction Login(props) {\n    \n    // Translate\n    const { t } = props;\n    // Props destructuring\n    const { login, loginWithToken, activateAccount, enqueueSnackbar } = props;\n    const { token } = props.match.params;\n    const { push } = props.history;\n    \n    // Dispatch login\n    useEffect(() => {\n        let session = LocalStorage.readLocalStorage();\n        if (!token && session && session.jwt) {\n            loginWithToken(session.jwt)\n            .then(res => enqueueSnackbar(t('Redirecting home...'), { variant: 'info' }))\n            .catch (error => enqueueSnackbar(error, { variant: 'error', }));\n        }\n    }, [login, loginWithToken, push, enqueueSnackbar, token, t]);\n\n    // Dispatch activate account\n    useEffect(() => {\n        if (token) {\n            activateAccount(token)\n            .then(result => enqueueSnackbar(result.data.description, { variant: 'success', }))\n            .catch(error => enqueueSnackbar(error, { variant: 'error', }))\n        }\n    }, [token, activateAccount, enqueueSnackbar]);\n    \n    // Dispatch login action\n    const submitLogin = (inputs) => {\n        const { login, password } = inputs;\n        props.login(login, password)\n        .then(res => enqueueSnackbar(t('Redirecting home...'), { variant: 'info' }))\n        .catch(error => enqueueSnackbar(error, { variant: 'error', }));\n    }\n    \n    // Render\n    return (\n        <AuthForm \n            form='login'\n            isLoading={props.isAuthenticating} \n            onSubmit={submitLogin}\n        />\n    );\n}\n\nexport default withNamespaces()(Login);","// NPM modules\nimport { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\n// Own components\nimport Login from './Login';\nimport withForm from '../../components/forms/Form/withForm';\n// Own modules\nimport { SessionActions } from '../../store/GlobalActions';\n\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        isAuthenticating: state.ui.isAuthenticating,\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        login: (login, password) => dispatch(SessionActions.login(login, password)),\n        loginWithToken: (jwt) => dispatch(SessionActions.loginWithToken(jwt)),\n        activateAccount: (token) => dispatch(SessionActions.activateAccount(token)),\n    }\n}\n\n// Retorno el componente envuelto en el \"connect\", y en un withSnackBar (para los tags de info de la app)\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(withForm(Login)));","// NPM Modules\nimport React from 'react';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\n// Own components\nimport AuthForm from '../../components/AuthForm';\n// Models\n// Own modules\n// Assets\n// CSS\n\n// Register form\nfunction Register(props) {\n    \n    // Translate\n    const { t } = props;\n\n    // Handle onSubmit event\n    const createUser = async (inputs) => {\n        // Campos relevantes para generar el objeto sesión\n        const { login, name, email, password, password_2 } = {...inputs};\n        // Ambos passwords iguales\n        if ( password !== password_2 ) {\n            return props.enqueueSnackbar(t('Error. Both passwords should match'), { variant: 'error', });\n        }\n        // Dispatch del create\n        props.createAccount(login, name, email, password)\n        .then(user => props.enqueueSnackbar(t('Account created. Check your email to activate it'), { variant: 'info', }))\n        .catch(error => props.enqueueSnackbar(error, { variant: 'error', }));\n    }\n    \n    // Render\n    return (\n        <AuthForm \n            form='register'\n            isLoading={props.isCreating} \n            onSubmit={createUser} \n        />\n    );\n}\n\nexport default withNamespaces()(Register);","// Node modules\nimport { withSnackbar } from 'notistack';\nimport { connect } from 'react-redux';\n// Own components\nimport withForm from '../../components/forms/Form/withForm';\nimport Register from './Register';\n// Own modules\nimport { SessionActions } from '../../store/GlobalActions';\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        isCreating: state.ui.isCreating,\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        createAccount: (login, name, email, password) => dispatch(SessionActions.createAccount(login, name, email, password)),\n    }\n}\n\n// Retorno el componente envuelto en el \"connect\", y en un withSnackBar (para los tags de info de la app)\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(withForm(Register)));","// NPM Modules\nimport React from 'react';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\n// Own components\nimport AuthForm from '../../components/AuthForm';\n// Models\n// Own modules\n// Assets\n// CSS\n\n\n// Request reset passworf section\nfunction RequestReset(props) {\n    \n    // Translate\n    const { t } = props;\n\n    // Handle onSubmit event\n    const requestReset = async (inputs) => {\n        const { email } = {...inputs};\n        props.requestResetAccount(email)\n        .then(user => props.enqueueSnackbar(t('Check your email to reset password'), { variant: 'info', }))\n        .catch(error => props.enqueueSnackbar(error, { variant: 'error', }));\n    }\n    \n    // Render\n    return (\n        <AuthForm \n            form='requestReset'\n            isLoading={props.isAuthenticating} \n            onSubmit={requestReset} \n        />\n    );\n}\n\nexport default withNamespaces()(RequestReset);","// Node modules\nimport { withSnackbar } from 'notistack';\nimport { connect } from 'react-redux';\n// Own components\nimport withForm from '../../components/forms/Form/withForm';\nimport RequestReset from './RequestReset';\n// Own modules\nimport { SessionActions } from '../../store/GlobalActions';\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        isAuthenticating: state.ui.isAuthenticating,\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        requestResetAccount: (name) => dispatch(SessionActions.requestResetAccount(name)),\n    }\n}\n\n// Retorno el componente envuelto en el \"connect\", y en un withSnackBar (para los tags de info de la app)\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(withForm(RequestReset)));","// NPM Modules\nimport React from 'react';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\n// Own components\nimport AuthForm from '../../components/AuthForm';\n// Models\n// Own modules\n// Assets\n// CSS\n\n\n// Reset password section\nfunction Reset(props) {\n    \n    // Translate\n    const { t } = props;\n\n    // Reset de contraseña\n    const resetPassword = async (inputs) => {\n        const { password, password_2 } = {...inputs};\n        if ( password !== password_2 ) {\n            return props.enqueueSnackbar(t(\"Error. Both passwords should match\"), { variant: 'error', });\n        } \n        props.resetAccount(props.match.params.token, password)\n        .then (user => props.enqueueSnackbar(t('Password reset successfully'), { variant: 'success', }))\n        .catch (error => props.enqueueSnackbar(error, { variant: 'error', }));\n    }\n    \n    /**\n    * Render\n    */\n    return (\n        <AuthForm \n            form='reset'\n            isLoading={props.isAuthenticating} \n            onSubmit={resetPassword} \n        />\n    );\n}\n\nexport default withNamespaces()(Reset);","// Node modules\nimport { withSnackbar } from 'notistack';\nimport { connect } from 'react-redux';\n// Own components\nimport withForm from '../../components/forms/Form/withForm';\nimport Reset from './Reset';\n// Own modules\nimport { SessionActions } from '../../store/GlobalActions';\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        isAuthenticating: state.ui.isAuthenticating,\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        resetAccount: (token, password) => dispatch(SessionActions.resetAccount(token, password)),\n    }\n}\n\n// Retorno el componente envuelto en el \"connect\", y en un withSnackBar (para los tags de info de la app)\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(withForm(Reset)));","// Component\nimport ProfileForm from './ProfileForm';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\nexport default withNamespaces()(ProfileForm);","// NPM Modules\nimport React, { useState, useRef } from 'react';\nimport { Link } from \"react-router-dom\";\n// Material UI\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport FaceIcon from '@material-ui/icons/Face';\nimport Button from '@material-ui/core/Button';\n// Own components\nimport InputForm from '../forms/InputForm';\nimport Form from '../forms/Form';\n// Models\n// Own modules\n// Assets\nimport imagePhoto from '../../assets/images/user.png';\n// CSS\nimport './styles.css';\n\n// Formulario de perfil de usuario\nexport default function ProfileForm(props) {\n   \n    const { t } = props;\n    const submit = (inputs) => {\n        if (fileTemp) {\n            inputs.file = fileTemp;\n            inputs.avatar = '';\n        }\n        props.onSubmit(inputs);\n    }\n\n    // Open input file\n    const openInputFile = () => refInputFile.current.click();\n  \n    // Handle close modal\n    const refInputFile = useRef(undefined);\n    const [fileTemp, setFileTemp] = useState();\n    const [photoTemp, setPhotoTemp] = useState(props.user.avatar);\n    const changeInputFile = (ev) => {\n        ev.stopPropagation();\n        ev.preventDefault();\n        const aux = ev.target.files[0];\n        setFileTemp(aux);\n        setPhotoTemp(URL.createObjectURL(aux));\n    }\n\n    // Render\n    return (\n        <Form className='ProfileForm' onSubmit={submit} initial={props.user}>\n            <div className='ProfileForm__Photo'>\n                <span className='ProfileForm__Photo--overlay' onClick={openInputFile}>{t('change your avatar')}</span>\n                <input type='file' id='file' ref={refInputFile} style={{display: 'none'}} onChange={changeInputFile} />\n                <img src={photoTemp || imagePhoto } alt='avatar'/>\n            </div>\n            <div className='ProfileForm__Inputs'>\n                <InputForm name='name' type='text' placeholder={t('type your name')} maxLength={\"30\"} required icon={<FaceIcon/>}/>\n                <InputForm name='login' type='text' placeholder={t('type your login')} maxLength={\"15\"} required icon={<PermIdentityIcon/>}/>\n                <InputForm name='email' type='email' placeholder={t('type your email')} maxLength={\"150\"} required icon={<MailOutlineIcon/>}/>\n                <div className='ProfileForm__Password'>\n                    <p className='Title'>{t('Change Password')}</p>\n                    <InputForm name='password_old' type='password' placeholder={t('type your current password')} maxLength={\"15\"} autoComplete='on' icon={<LockOpenIcon/>}/>\n                    <InputForm name='password_new_1' type='password' placeholder={t('type your new password')} maxLength={\"15\"} autoComplete='on' icon={<LockOpenIcon/>}/>\n                    <InputForm name='password_new_2' type='password' placeholder={t('repeat your new password')} maxLength={\"15\"} autoComplete='on' icon={<LockOpenIcon/>}/>\n                </div>\n            </div>\n            <div className='ProfileForm__Buttons'>\n                <Button type='submit' variant='contained' color='primary'>{props.t('Accept')}</Button>\n                <Button type='button' variant='contained' component={Link} to={'/'}>{props.t('Cancel')}</Button>\n                <Button type='button' variant='contained' color='secondary' onClick={props.onRequestDeleteAccount} className=''>\n                {props.t('Delete Account')}\n                </Button>\n            </div>\n        </Form>\n    );\n}","// NPM Modules\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\nimport Container from '@material-ui/core/Container';\n// Components\nimport ProfileForm from '../../components/ProfileForm';\nimport ModalConfirm from '../../components/ModalConfirm';\nimport NavBar from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport Loading from '../../components/Loading';\n// Models\nimport Session from '../../models/Session';\n// Own modules\n// Assets\n// CSS\nimport './styles.css';\n\n// Profile\nfunction Profile(props) {\n\n    // Translate \n    const { t } = props;\n\n    // Delete account\n    const [showModalDelete, setShowModalDelete] = useState(false);\n    const requestDeleteAccount = () => setShowModalDelete(true);\n    const cancelDeleteAccount = () => setShowModalDelete(false);\n    const confirmDeleteAccount = () => {\n        this.setState({showModalDelete: false});\n        props.deleteAccount(props.session._id)\n        .then(res => props.enqueueSnackbar(t('Your account and all its related data is deleted'), { variant: 'success', }))\n        .catch(error => props.enqueueSnackbar(t('Error deleting account ERROR', {error}), { variant: 'error', }));\n    };\n     \n    // Submit (save data)\n    const submitProfile = (inputs) => {\n      // Creo usuario desde inputs\n      const { password_old, password_new_1, password_new_2 } = inputs;\n      const user = new Session(inputs);\n      // ¿Está intentando realizar un cambio de contraseña?\n      if (password_new_1 || password_new_2) {\n        if (password_new_1 !== password_new_2) return props.enqueueSnackbar(t('Error. Both passwords should match'), { variant: 'error' });        \n        if (password_old === '') return props.enqueueSnackbar(t('You should enter your current password to change it'), { variant: 'error' });        \n        user.password = password_new_1;\n      }\n      // Dispatch update user\n      props.editUser(user)\n        .then (res => props.enqueueSnackbar(t('User updated successfully'), { variant: 'success' }))\n        .catch (error => props.enqueueSnackbar(t('Error updating user data ERROR', {error}), { variant: 'error', }));\n    }\n\n    return (\n        <React.Fragment>\n        <NavBar session={props.session} onLogout={props.logout}/>\n        <Container className='Container__Fill'>\n            <main className='Main__Section Profile'>\n                <div className='Section__Content'>\n                    <div className='Content__Title'>\n                        <h1 className='Title'>Tu perfil de usuario</h1>\n                    </div>\n                    <p className='Text'>Desde esta sección puedes modificar tu nombre, login en la plataforma y dirección de email. También podrás cambiar tu contraseña, \n                    y seleccionar una foto de perfil, que será visible por el resto de usuarios en los anuncios que publiques.</p>\n                </div>\n                <ProfileForm    noValidate \n                                autoComplete='off' \n                                className='Profile__Form'\n                                user={props.session}\n                                onSubmit={submitProfile} \n                                onRequestDeleteAccount={requestDeleteAccount}/>\n                { props.isUpdating &&\n                    <Loading text={t('Updating user data...')}/> \n                }\n                { showModalDelete && \n                    <ModalConfirm   onConfirm={confirmDeleteAccount} \n                                    onCancel={cancelDeleteAccount} \n                                    visible={true} type='warning'\n                                    title={t('Are you sure you want to delete your account?')}\n                    /> \n                }\n            </main>\n        </Container>\n        <Footer session={props.session} onLogout={props.logout}/>\n        </React.Fragment>\n    );\n}\n\nProfile.propTypes = {\n  tags: PropTypes.array,\n  session: PropTypes.object,\n  editSession: PropTypes.func,\n  logout: PropTypes.func\n}\n\nexport default withNamespaces()(Profile);","import { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\n// Own modules\nimport Profile from './Profile';\nimport { SessionActions } from '../../store/GlobalActions';\n\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        session: state.session,\n        isUpdating: state.ui.isUpdating,\n        error: state.ui.error,\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n        editUser: (user) => dispatch(SessionActions.editUser(user)),\n        deleteAccount: (id) => dispatch(SessionActions.deleteAccount(id)),\n    }\n}\n\n// Retorno el componente envuelto en el \"connect\", y en un withSnackBar (para los tags de info de la app)\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(Profile));","// Component\nimport SearchPanel from './SearchPanel';\n// HOCs\nimport { withNamespaces } from 'react-i18next';\n\nexport default withNamespaces()(SearchPanel);","// NPM Modules\nimport React, { useState } from 'react';\n// Material UI\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Button from '@material-ui/core/Button';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n// Own Components\nimport AdvertChip from '../AdvertChip';\n// Own modules\n// Models\nimport { ADVERT_CONSTANTS } from '../../models/Advert';\n// Assets\n// CSS\nimport './styles.css';\n\n// Panel de búsquedas\nexport default function SearchPanel(props) {\n\n    // Translate\n    const { t } = props;\n\n    // Initial state del componente\n    const initialState = {\n        name: '',\n        type: ADVERT_CONSTANTS.TYPE.ALL,\n        tag: ADVERT_CONSTANTS.TAG.ALL,\n        priceFrom: 0,\n        priceTo: 0\n    }\n\n    // Uso del hook useState\n    const [inputs, setInputs] = useState(initialState);\n\n    // Cambio en alguno de los campo del formulario\n    const handleInputChange = event => {\n        const name = event.target.name;\n        const value = event.target.value;\n        const formInputs = {...inputs, [name]: value};\n        setInputs(formInputs);\n        // Los campos numérico NO lanzan busqueda automática (salvo que estén en blanco). El resto de campos lanzan búsqueda en tiempo real\n        if (!name.startsWith('price') || (name.startsWith('price') && inputs[name] === '')) {\n            props.onSetFilters(formInputs);\n        }\n    }  \n\n    // Reseteo el estado a los valores originales de búsqueda\n    const handleInputReset = () => {\n        const formInputs = initialState;\n        formInputs.tag = ADVERT_CONSTANTS.TAG.ALL;\n        setInputs(formInputs)\n        props.onSetFilters(formInputs);\n        props.onSearchAdverts();\n    }\n  \n    // Reseteo el estado a los valores originales de búsqueda\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        props.onSearchAdverts(inputs);\n    }\n\n    const [collapsed, setCollapsed] = useState(true);\n    const handleCollapse = (ev) => {\n        ev.preventDefault();\n        setCollapsed(!collapsed);\n    }\n\n    // Render del componente\n    return (\n        <div className='SearchPanel'>\n            <form className='SearchPanel__Form' onSubmit={handleSubmit}>\n                <div className='InputSearch'>\n                    <SearchIcon className='InputSearch__Icon InputSearch__Icon--start'/>\n                    <input \n                        id='filter_name'\n                        name='name'\n                        type='text' \n                        value={inputs.name}\n                        onChange={handleInputChange}\n                        className='InputSearch__Input'\n                        autoComplete='off'\n                        placeholder={t('Search adverts by name')}\n                        onFocus={handleCollapse}\n                        onBlur={handleCollapse}\n                    />\n                    <button onClick={handleCollapse} className='SearchCollapseButton'><ExpandMoreIcon/></button>\n                </div>   \n                <div className={`SearchPanel__Filters SearchPanel__Filters--${collapsed?'Hide':'Show'}`}>\n                    <div className='SearchPanel__FiltersGrid'>\n                        <FormControl>\n                            <InputLabel shrink htmlFor='type'>{t('Type')}</InputLabel>\n                            <Select\n                                id='filter_type'\n                                name= 'type'\n                                onChange={handleInputChange}\n                                className='SearchPanel__Type'\n                                value={inputs.type}\n                                displayEmpty\n                            >\n                                <MenuItem key={ADVERT_CONSTANTS.TYPE.ALL} value={ADVERT_CONSTANTS.TYPE.ALL}>\n                                    <AdvertChip type='type' value={ADVERT_CONSTANTS.TYPE.ALL}/>\n                                </MenuItem>\n                                <MenuItem key={ADVERT_CONSTANTS.TYPE.BUY} value={ADVERT_CONSTANTS.TYPE.BUY}>\n                                    <AdvertChip type='type' value={ADVERT_CONSTANTS.TYPE.BUY}/>\n                                </MenuItem>\n                                <MenuItem key={ADVERT_CONSTANTS.TYPE.SELL} value={ADVERT_CONSTANTS.TYPE.SELL}>\n                                    <AdvertChip type='type' value={ADVERT_CONSTANTS.TYPE.SELL}/>\n                                </MenuItem>\n                            </Select>\n                        </FormControl>\n                        <FormControl>\n                            <InputLabel shrink htmlFor='tag'>{t('Tag')}</InputLabel>\n                            <Select\n                                id='filter_tag'\n                                name='tag'\n                                value={inputs.tag}\n                                onChange={handleInputChange}\n                                displayEmpty\n                            >\n                                <MenuItem key={ADVERT_CONSTANTS.TAG.ALL} value={ADVERT_CONSTANTS.TAG.ALL}>\n                                    <AdvertChip type='tag' value={ADVERT_CONSTANTS.TAG.ALL}/>\n                                </MenuItem>\n                                {   props.tags.map((value, key) => <MenuItem key={key} value={value}><AdvertChip type='tag' value={value}/></MenuItem>) }\n                            </Select>\n                        </FormControl>\n                        <FormControl>\n                            <InputLabel htmlFor='minPrice'>{t('Price from')}</InputLabel>\n                            <Input\n                                id='filter_minPrice'\n                                name='minPrice'\n                                type='number'\n                                value={parseFloat(inputs.minPrice) || 0}\n                                onChange={handleInputChange}\n                                endAdornment={<InputAdornment position='start'>€</InputAdornment>}\n                            />\n                        </FormControl>\n                        <FormControl>\n                            <InputLabel htmlFor='maxPrice'>{t('Price to')}</InputLabel>\n                            <Input\n                                id='filter_maxPrice'\n                                name='maxPrice'\n                                type='number'\n                                value={parseFloat(inputs.maxPrice) || 0}\n                                onChange={handleInputChange}\n                                endAdornment={<InputAdornment position='start'>€</InputAdornment>}\n                        />\n                        </FormControl>\n                    </div>\n                </div> \n                <div className='SearchPanel__Footer'>\n                    <Button type='submit' variant='contained' color='primary' startIcon={<SearchIcon />}>{t('Search')}</Button>\n                    <Button variant='contained' color='secondary' onClick={handleInputReset} startIcon={<ClearIcon/>}> {t('Reset')} </Button>\n                </div>\n            </form>\n        </div>\n    );\n}","// NPM Modules\nimport React, { useEffect } from 'react';\nimport { withNamespaces } from 'react-i18next';\n// Material UI\nimport Container from '@material-ui/core/Container';\n// Components\nimport AdvertList from '../../components/AdvertList';\nimport Footer from '../../components/Footer';\n// Components\nimport SearchPanel from '../../components/SearchPanel';\nimport NavBar from '../../components/NavBar';\n// Containers\n// Own modules\n// Assets\n// CSS\nimport './styles.css';\n\n// Main component\nfunction Home(props) {\n  \n    // Translate\n    const { t } = props;\n\n    // Destructuring de props\n    const { start, end, totalCount } = props.lastCall\n    const { currentPage, isFetching } = props.ui;\n    const { adverts, session, filters, tags } = props;\n    const { fetchTags, setCurrentPage, fetchIterateAdverts, enqueueSnackbar, setFilters, setFavorite, searchAdverts, fetchAdverts } = props;\n\n    // On load\n    useEffect(() => {        \n        fetchTags();\n        fetchAdverts()\n        .catch (error => enqueueSnackbar(t('Error loading adverts ERROR', {error}), { variant: 'error' }));\n    }, [fetchTags, fetchAdverts, enqueueSnackbar, t]);\n\n    // Reservar producto\n    const onFavoriteAdvert = (slug) => {\n        if (!session.jwt) {\n            enqueueSnackbar(t('You need to log in to manage favorites'), { variant: 'error' });\n        } else {\n            setFavorite(slug)\n            .then(res => enqueueSnackbar(t('Advert SLUG ACTION favorites', {slug, action: res.favorite?t('added to'):t('removed from')}), { variant: 'success' }))\n            .catch(error => enqueueSnackbar(t('Error adding advert to favorite ERROR', {error}), { variant: 'error' }));    \n        }\n    }\n\n    // Gestiona el evento de búsqueda de anuncios\n    const onHandleSearchAdverts = (filters) => {\n        if (filters) {\n            return searchAdverts(filters)\n                .catch(error => enqueueSnackbar(t('Error loading adverts ERROR', {error}), { variant: 'error' }));\n        }\n        fetchAdverts()\n        .catch(error => enqueueSnackbar(t('Error loading adverts ERROR', {error}), { variant: 'error' }));\n    }\n\n    // Paginación sobre la colección de anuncios\n    const onfetchIterateAdverts = (direction) => {\n        return fetchIterateAdverts(direction)\n        .catch(error => enqueueSnackbar(t('Error loading adverts ERROR', {error}), { variant: 'error' }));\n    }\n\n    // Render\n    return (\n        <React.Fragment>\n            <NavBar session={props.session} onLogout={props.logout}/>\n            <Container className='Container__Fill'>\n                <main className='Main__Section'>\n                    <div className='Home__Results'>\n                    <SearchPanel tags={tags} onSearchAdverts={onHandleSearchAdverts} onSetFilters={setFilters} filters={filters} />\n                        <AdvertList \n                            type='tiles' \n                            start={start}\n                            end={end}\n                            totalCount={totalCount}\n                            currentPage={currentPage}\n                            adverts={adverts}\n                            showFavorite={session.email?true:false}\n                            isFetching={isFetching}\n                            onFavoriteAdvert={onFavoriteAdvert}\n                            onSetCurrentPage={setCurrentPage}\n                            onfetchIterateAdverts={onfetchIterateAdverts}\n                        />\n                    </div>\n                </main>\n            </Container>\n            <Footer session={props.session} onLogout={props.logout} active='Home'/>\n        </React.Fragment>\n    );\n}\n\nexport default withNamespaces()(Home);","// Node modules\nimport { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\n// Own Components\nimport Home from './Home';\n// Own modules\nimport { AdvertsActions, SessionActions, FiltersActions } from '../../store/GlobalActions';\nimport { getVisibleAdverts } from '../../store/selectors/AdvertsSelectors';\n\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        adverts: getVisibleAdverts(state.adverts, state.filters),\n        session: state.session,\n        tags: state.tags,\n        ui: state.ui,\n        filters: state.filters,\n        lastCall: state.lastCall\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n        setFavorite: (slug) => dispatch(SessionActions.setFavorite(slug)),\n        // Filters\n        setFilters: filters => dispatch(FiltersActions.setFilters(filters)),\n        setCurrentPage: pageNumber => dispatch(FiltersActions.setCurrentPage(pageNumber)),\n        // Adverts\n        fetchTags: () => dispatch(AdvertsActions.fetchTags()),\n        fetchAdverts: () => dispatch(AdvertsActions.fetchAdverts()),\n        fetchIterateAdverts: direction => dispatch(AdvertsActions.fetchIterateAdverts(direction)),\n        searchAdverts: filters => dispatch(AdvertsActions.searchAdverts(filters)),\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(Home));","// Node modules\nimport { connect } from 'react-redux';\n// Own components\nimport Error404 from './Error404';\n// Own modules\nimport { SessionActions } from '../../store/GlobalActions';\n\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        session: state.session,\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, mapDispatchToProps)(Error404);","// NPM Modules\nimport React from 'react';\n// Material UI\nimport Container from '@material-ui/core/Container';\n// Own components\nimport Error from '../../components/Error';\n// Own modules\nimport NavBar from '../../components/NavBar';\nimport Footer from '../../components/Footer';\n// Assets\n// CSS\nimport './styles.css';\n\n/**\n * Functional component to render 404 error\n */\nexport default function Error404(props) {\n  return (\n    <React.Fragment>\n        <NavBar session={props.session} onLogout={props.logout}/>\n        <Container className='Container__Fill'>\n            <Error type='404'/>\n        </Container>\n        <Footer session={props.session} onLogout={props.logout}/>\n    </React.Fragment>\n  );\n}","// Node modules\nimport { connect } from 'react-redux';\nimport { withSnackbar } from 'notistack';\nimport { withNamespaces } from 'react-i18next';\n// Own Components\nimport History from './History';\n// Models\n// Own modules\nimport { AdvertsActions, SessionActions, FiltersActions } from '../../store/GlobalActions';\n\n/**\n * Inyecta props en mi componente para acceder al state del store\n * @param {Object} state Estado de mi store\n */\nconst mapStateToProps = (state) => {\n    return {\n        adverts: state.adverts,\n        session: state.session,\n        ui: state.ui,\n        lastCall: state.lastCall\n    }\n}\n\n/**\n * Inyecta props en mi componente para acceder a los reducers del store\n * @param {Function} dispatch Dispatch del store\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // Session\n        logout: () => dispatch(SessionActions.logout()),\n        // Filters\n        setCurrentPage: pageNumber => dispatch(FiltersActions.setCurrentPage(pageNumber)),\n        // Adverts\n        sellAdvert: (slug) => dispatch(AdvertsActions.sellAdvert(slug)),\n        fetchSoldHistory: () => dispatch(AdvertsActions.fetchSoldHistory()),\n    }\n}\n\n/**\n * Envuelvo el App en al función connect para conectar con el store recibido del provider\n */ \nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(withNamespaces()(History)));","// NPM Modules\nimport React, { useState, useEffect } from 'react';\n// Material UI\nimport Container from '@material-ui/core/Container';\n// Components\nimport ModalConfirm from '../../components/ModalConfirm';\nimport AdvertList from '../../components/AdvertList';\nimport Footer from '../../components/Footer';\nimport NavBar from '../../components/NavBar';\n// Own modules\n// Models\n// Assets\n// CSS\nimport './styles.css';\n\n// Published adverts section\nexport default function History (props) {\n    \n    // Translate\n    const { t } = props;\n\n    // Destructure props\n    const { enqueueSnackbar, fetchSoldHistory, setCurrentPage } = props;\n    const { start, end, totalCount } = props.lastCall;\n    const { currentPage, isFetching } = props.ui;\n    const { adverts, session } = props;\n\n    // Cargo anuncios del usuario solicitado\n    useEffect(() => {\n        fetchSoldHistory()\n        .catch(error => enqueueSnackbar(t('Error loading USER sold history ERROR', {user: session.login, error}), { variant: 'error' }));\n    }, [enqueueSnackbar, fetchSoldHistory, session, t]);\n\n    // Vendido\n    const sellAdvert = slug => {\n        props.sellAdvert(slug)\n        .catch(error => enqueueSnackbar(t('Error setting advert as sold ERROR', {error}), { variant: 'error', }));\n    };\n    \n    // Borrar anuncio\n    const [showModalDelete, setShowModalDelete] = useState(false);\n    const [slug, setSlug] = useState(undefined);\n    const deleteAdvertRequest = slug => {\n        setSlug(slug)\n        setShowModalDelete(true);\n    }\n    const confirmDeleteAdvert = () => {\n        setShowModalDelete(false);\n        if (slug) {\n            props.deleteAdvert(slug)\n            .then(res => enqueueSnackbar(t('Advert SLUG deleted', {slug}), { variant: 'success', }))\n            .catch(error => enqueueSnackbar(t('Error deleting advert ERROR', {error}), { variant: 'error', }));    \n        } else {\n            enqueueSnackbar(t('Error identifying advert to be deleted'), { variant: 'error', });    \n        }\n    };\n    const cancelDeleteAdvert = () => {\n        setSlug(undefined)\n        setShowModalDelete(false);\n    };\n   \n    // Render\n    return (\n        <React.Fragment>\n            <NavBar session={session} onLogout={props.logout}/>\n            <Container className='Container__Fill'>\n                <main className='Main__Section'>\n                    <div className='Section__Content'>\n                        <div className='Content__Title'>\n                            <h1 className='Title'>Tus ventas</h1>\n                            <p className='Counter'><span>{totalCount}</span> {t('products')}</p>\n                        </div>\n                        <p className='Text'>Aquí puedes hacer seguimiento de todo el histórico de ventas en tu usuario...</p>\n                    </div>\n                    <AdvertList \n                        type='list' \n                        start={start}\n                        end={end}\n                        totalCount={totalCount}\n                        currentPage={currentPage}\n                        adverts={adverts}\n                        showFavorite={false}\n                        showEdit={true}\n                        isFetching={isFetching}\n                        onSellAdvert={sellAdvert}\n                        onDeleteAdvert={deleteAdvertRequest}\n                        onSetCurrentPage={setCurrentPage}\n                    />\n                </main>\n                {   showModalDelete && \n                    <ModalConfirm   onConfirm={confirmDeleteAdvert} \n                                    onCancel={cancelDeleteAdvert} \n                                    visible={true} type='warning'\n                                    title={t('Are you sure to delete the advert?')}\n                    /> \n                }\n            </Container>\n            <Footer session={session} onLogout={props.logout} active='History'/>\n        </React.Fragment>\n    );\n}","// APP Initia State\nexport const initialState = {\n    // User session\n    session: {},\n    // Adverts in the app\n    adverts: [],\n    // Available tags in the backend\n    tags: [],\n    // Filters applied (text, tag, type, amounts)\n    filters: {\n        name: undefined,\n        minPrice: undefined,\n        maxPrice: undefined,\n        type: undefined, \n        tag: undefined,\n        user: undefined,\n    },\n    // Last call statistics\n    lastCall: {\n        totalCount: -1,\n        start: -1,\n        end: -1,        \n    },\n    // UI State\n    ui: {\n        error: null,\n        isAuthenticating: false,\n        isFetching: false,\n        isUpdating: false,\n        isCreating: false,\n        isDeleting: false,\n        currentPage: 0,\n    }\n}","// Imports\nimport * as ADVERTS from '../types/AdvertsTypes';\nimport * as SESSION from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar las acciones sobre los anuncios de la app\n * @param {Array} state Anuncios\n * @param {Object} action Action\n */\nexport function adverts(state = initialState.adverts, action) {\n    switch (action.type) {\n        // Initialization\n        case ADVERTS.FETCH_ADVERTS_FAILURE:\n        case ADVERTS.SEARCH_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_FAVORITES_FAILURE:\n        case ADVERTS.FETCH_USER_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_SOLD_HISTORY_FAILURE:\n            return initialState.adverts;\n        // Adverts related\n        case ADVERTS.FETCH_ADVERTS_SUCCESS:\n        case ADVERTS.SEARCH_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_FAVORITES_SUCCESS:\n        case ADVERTS.FETCH_USER_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_SOLD_HISTORY_SUCCESS:\n            return [...action.adverts];\n        case ADVERTS.CREATE_ADVERT_SUCCESS:\n            return [action.advert, ...state];\n        case ADVERTS.EDIT_ADVERT_SUCCESS:\n            return state.map(advert => {\n                if (advert._id === action.advert._id) return { ...action.advert }\n                return advert;\n            });\n        case ADVERTS.BOOK_ADVERT_SUCCESS: \n            return state.map(a => {\n                if (action.advert._id === a._id ) return {...a, booked: action.advert.booked};\n                return {...a};\n            });\n        case ADVERTS.SELL_ADVERT_SUCCESS:  {\n            const i = state.findIndex(advert => advert._id === action.advert._id);\n            return [ ...state.slice(0, i), ...state.slice(i + 1) ];\n        }\n        case ADVERTS.DELETE_ADVERT_SUCCESS: {\n            const i = state.findIndex(advert => advert._id === action.advert._id);\n            return [ ...state.slice(0, i), ...state.slice(i + 1) ];\n        }\n        // Favorites related\n        case SESSION.SET_FAVORITE_SUCCESS:\n            return state.map(a => {\n                if (action.advert._id === a._id ) return {...a, favorite: action.advert.favorite};\n                return {...a};\n            });\n        // Logout\n        case SESSION.LOGOUT_SUCCESS:\n        case SESSION.LOGOUT_FAILURE:\n        case SESSION.DELETE_ACCOUNT_SUCCESS:\n            return initialState.adverts;\n        // Default\n        default:\n            return state;\n    }\n}","// Imports\nimport * as ADVERTS from '../types/AdvertsTypes';\nimport * as SESSION from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar los tags disponibles en el backend\n * @param {Array} state Tags\n * @param {Object} action Action\n */\nexport function tags(state = initialState.tags, action) {\n    switch (action.type) {\n        case ADVERTS.FETCH_TAGS_SUCCESS:\n            return action.tags;\n        case SESSION.LOGOUT_SUCCESS:\n        case SESSION.LOGOUT_FAILURE:\n            return initialState.tags\n        default:\n            return state;\n    }\n}","// Imports\nimport * as FILTERS from '../types/FiltersTypes';\nimport * as ADVERTS from '../types/AdvertsTypes';\nimport * as SESSION from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar las acciones sobre los filtros de la app\n * @param {Array} state Anuncios\n * @param {Object} action Action\n */\nexport function filters (state = initialState.filters, action) {\n    switch (action.type) {\n        // Set filters\n        case FILTERS.SET_FILTERS:\n        case ADVERTS.SEARCH_ADVERTS_SUCCESS:\n            return { ...action.filters };\n        // Delete filters\n        case SESSION.LOGOUT_SUCCESS:\n        case SESSION.LOGOUT_FAILURE:\n        case SESSION.DELETE_ACCOUNT_SUCCESS:\n        case ADVERTS.FETCH_ADVERTS_SUCCESS:\n            return initialState.filters;\n        // Default\n        default:\n            return state;\n    }\n}","// Imports\nimport * as ADVERTS from '../types/AdvertsTypes';\nimport * as SESSION from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar las acciones sobre los datos de la última llamada al API\n * @param {Array} state objeto last call del estado\n * @param {Object} action action recibida en el reducer\n */\nexport function lastCall (state = initialState.filters, action) {\n    switch (action.type) {\n        // Set api call statistics\n        case ADVERTS.FETCH_ADVERTS_SUCCESS:\n        case ADVERTS.SEARCH_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_FAVORITES_SUCCESS:\n        case ADVERTS.FETCH_USER_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_SOLD_HISTORY_SUCCESS:\n            return {\n                totalCount: action.totalCount,\n                start: action.start,\n                end: action.end,\n            };\n        // Delete api call statistics\n        case SESSION.LOGOUT_SUCCESS:\n        case SESSION.LOGOUT_FAILURE:\n        case SESSION.DELETE_ACCOUNT_SUCCESS:\n            return initialState.filters;\n        // Default\n        default:\n            return state;\n    }\n}","// Imports\nimport * as TYPES from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar las acciones sobre la sesion de usuario\n * @param {Array} state Anuncios\n * @param {Object} action Action\n */\nexport function session (state = initialState.session, action) {\n    switch (action.type) {\n        case TYPES.LOGIN_FAILURE:\n        case TYPES.LOGIN_TOKEN_FAILURE:\n            return initialState.session;\n        case TYPES.LOGIN_SUCCESS:\n        case TYPES.LOGIN_TOKEN_SUCCESS:\n        case TYPES.EDIT_ACCOUNT_SUCCESS:\n            return {...action.session}\n        case TYPES.LOGOUT_SUCCESS:\n        case TYPES.LOGOUT_FAILURE:\n                return initialState.session;\n        case TYPES.SET_FAVORITE_SUCCESS:\n            const i = state.favorites.indexOf(action.advert._id);\n            let favorites = []\n            if (i>=0 && !action.advert.favorite) {\n                favorites = [ ...state.favorites.slice(0, i), ...state.favorites.slice(i + 1) ];\n            }  else {\n                favorites = [ ...state.favorites, action.advert._id ];\n            }\n            return {\n                ...state,\n                favorites: favorites\n            }\n        default:\n            return state;\n    }\n}","// Imports\nimport * as ADVERTS from '../types/AdvertsTypes';\nimport * as FILTERS from '../types/FiltersTypes';\nimport * as SESSION from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar el estado de la ui\n * @param {Object} state UI state\n * @param {Object} action Action\n */\nexport function ui(state = initialState.ui, action) {\n    switch (action.type) {\n        // Filters related\n        case FILTERS.SET_FILTERS:\n            return { ...state, currentPage: 0 }\n        case FILTERS.SET_PAGE:\n            return { ...state, currentPage: action.pageNumber }\n        // Feching related\n        case ADVERTS.FETCH_ADVERT_REQUEST:\n        case ADVERTS.FETCH_ADVERTS_REQUEST:\n        case ADVERTS.SEARCH_ADVERTS_REQUEST:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_REQUEST:\n        case ADVERTS.FETCH_FAVORITES_REQUEST:\n        case ADVERTS.FETCH_USER_ADVERTS_REQUEST:\n        case ADVERTS.FETCH_SOLD_HISTORY_REQUEST:\n            return { ...state, isFetching: true, error: null }\n        case ADVERTS.FETCH_ADVERT_FAILURE:\n        case ADVERTS.FETCH_ADVERTS_FAILURE:\n        case ADVERTS.SEARCH_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_FAVORITES_FAILURE:\n        case ADVERTS.FETCH_USER_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_SOLD_HISTORY_FAILURE:\n            return { ...state, isFetching: false, error: action.error }\n        case ADVERTS.FETCH_ADVERT_SUCCESS:\n            return { ...state, isFetching: false, error: null }\n        case ADVERTS.FETCH_ADVERTS_SUCCESS:\n        case ADVERTS.SEARCH_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_FAVORITES_SUCCESS:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_USER_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_SOLD_HISTORY_SUCCESS:\n            return { ...state, currentPage: 0, isFetching: false, error: null }\n        // Authention related\n        case SESSION.RESET_ACCOUNT_REQUEST:\n        case SESSION.LOGIN_REQUEST:\n        case SESSION.ACTIVATE_ACCOUNT_REQUEST:\n        case SESSION.LOGIN_TOKEN_REQUEST:\n        case SESSION.REQUEST_RESET_ACCOUNT_REQUEST:\n            return { ...state, error: null, isAuthenticating: true }\n        case SESSION.RESET_ACCOUNT_FAILURE:\n        case SESSION.LOGIN_FAILURE:\n        case SESSION.ACTIVATE_ACCOUNT_FAILURE:\n        case SESSION.LOGIN_TOKEN_FAILURE:\n        case SESSION.REQUEST_RESET_ACCOUNT_FAILURE:\n            return { ...state, error: action.error, isAuthenticating: false }\n        case SESSION.RESET_ACCOUNT_SUCCESS:\n        case SESSION.LOGIN_SUCCESS:\n        case SESSION.ACTIVATE_ACCOUNT_SUCCESS:\n        case SESSION.LOGIN_TOKEN_SUCCESS:\n        case SESSION.REQUEST_RESET_ACCOUNT_SUCCESS:\n            return { ...state, error: null, isAuthenticating: false }\n        // Edit related\n        case SESSION.EDIT_ACCOUNT_REQUEST:\n        case ADVERTS.EDIT_ADVERT_REQUEST:\n            return { ...state, error: null, isUpdating: true }\n        case SESSION.EDIT_ACCOUNT_FAILURE:\n        case ADVERTS.EDIT_ADVERT_FAILURE:\n            return { ...state, error: action.error, isUpdating: false }\n        case SESSION.EDIT_ACCOUNT_SUCCESS:\n        case ADVERTS.EDIT_ADVERT_SUCCESS:\n            return { ...state, error: null, isUpdating: false }\n        // Creation related\n        case ADVERTS.CREATE_ADVERT_REQUEST:\n        case SESSION.CREATE_ACCOUNT_REQUEST:\n            return { ...state, error: null, isCreating: true }\n        case SESSION.CREATE_ACCOUNT_FAILURE:\n        case ADVERTS.CREATE_ADVERT_FAILURE:\n                return { ...state, error: action.error, isCreating: false }\n        case SESSION.CREATE_ACCOUNT_SUCCESS:\n        case ADVERTS.CREATE_ADVERT_SUCCESS:\n            return { ...state, error: null, isCreating: false }\n        // Deletion related\n        case SESSION.DELETE_ACCOUNT_REQUEST:\n        case ADVERTS.DELETE_ADVERT_REQUEST:\n            return { ...state, isDeleting: true, error: null }\n        case SESSION.DELETE_ACCOUNT_FAILURE:\n        case ADVERTS.DELETE_ADVERT_FAILURE:\n            return { ...state, isDeleting: false, error: action.error }\n        case ADVERTS.DELETE_ADVERT_SUCCESS:\n            return { ...state, isDeleting: false, error: null }\n        // Logout\n        case SESSION.LOGOUT_SUCCESS:\n        case SESSION.LOGOUT_FAILURE:\n        case SESSION.DELETE_ACCOUNT_SUCCESS:\n            return initialState.ui;\n        // Default\n        default:\n            return state;\n    }\n}","// Node\nimport { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\n// Own Reducers\nimport { adverts } from './reducers/AdvertsReducers';\nimport { tags } from './reducers/TagsReducers';\nimport { filters } from './reducers/FiltersReducers';\nimport { lastCall } from './reducers/LastCallReducers';\nimport { session } from './reducers/SessionReducers';\nimport { ui } from './reducers/UiReducers';\n\nconst createRootReducer = (history) => combineReducers({\n  router: connectRouter(history),\n  adverts,\n  tags,\n  filters,\n  lastCall,\n  session,\n  ui\n});\n\nexport default createRootReducer;","// Node imports\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { routerMiddleware } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\nimport { createLogger } from 'redux-logger';\nimport thunkMiddleware from 'redux-thunk';\n// Own imports\nimport createRootReducer from './GlobalReducers';\n\nconst loggerMiddleware = createLogger();\nconst componseEnhancers = composeWithDevTools({\n    name: `Redux`,\n    realtime: true,\n    trace: true,\n    traceLimit: 25\n});\n\n// History\nexport const history = createBrowserHistory()\n\n// Configura el store\nexport default function configureStore(preloadedState, notify) {\n    const middlewares = [ thunkMiddleware.withExtraArgument({history, notify}), routerMiddleware(history) ];\n    if (process.env === 'development') {\n        middlewares.push(loggerMiddleware);\n    }\n    const store = createStore(\n        createRootReducer(history),\n        preloadedState,\n        componseEnhancers(applyMiddleware(...middlewares)),\n    );\n    return store;\n}\n\n/**\n * OPCION 2: para crear el reducer combinado.\n * \n * Crear nuestor propia función, en vez de utilizar el combineReducers de react. De esta forma,\n * podemos pasar partes del estado a cualquiera de los reducers, que de la forma estandar\n * no tendrían acceso a ellas.\n *\n * const reducer = (state = initialState, action) => {\n *     return {\n *         adverts: adverts(state.adverts, action, {session: state.session}),\n *         filters: filters(state.filters, action),\n *         session: session(state.session, action)\n *     }\n * }\n */","// NPM Modules\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n// Material UI\n// Components\nimport App from './containers/App';\n// Own modules\nimport './utils/i18n';\nimport 'moment/locale/es';\nimport 'moment/locale/en-gb';\n// Assets\n// CSS\nimport './index.css';\n\n// Render\nReactDOM.render(<App />, document.getElementById('root'));","// NPM Modules\nimport React from 'react';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { Route, Switch } from 'react-router-dom';\nimport { SnackbarProvider } from 'notistack';\nimport { Provider } from 'react-redux';\n// Components\nimport PrivateRoute from '../../components/PrivateRoute';\nimport ErrorBoundary from '../../components/ErrorBoundary';\n// Containers\nimport Favorites from '../Favorites';\nimport Published from '../Published';\nimport Detail from '../Detail';\nimport Edit from '../Edit';\nimport Login from '../Login';\nimport Register from '../Register';\nimport RequestReset from '../RequestReset';\nimport Reset from '../Reset';\nimport Profile from '../Profile';\nimport Home from '../Home';\nimport Error404 from '../Error404';\nimport History from '../History';\n// Models\n// Own modules\nimport configureStore, { history } from '../../store';\nimport { initialState } from '../../store/InitialState';\n// Assets\n// CSS\n\n// APP Root Component\nexport default function App(props) {\n\n    // When user clicks in a push notification. This is the callback that service worker execute it\n    const showNotification = (content) => {\n        switch (content.action) {\n            case 'navigate':\n                history.push(content.data)\n                break;\n            default:\n                console.error('Uncontrolled action returned by service worker');\n        }\n    }\n\n    // Configuro el store, y sincronizo el history del store con el de router\n    const store = configureStore(initialState, showNotification);\n\n    // Render\n    return (\n        <ErrorBoundary>\n            <Provider store={store}>\n                <ConnectedRouter history={history}>\n                    <SnackbarProvider maxSnack={1}> \n                        <Switch>\n                            <Route path='/login' exact component={Login} />\n                            <Route path='/register' exact component={Register} />\n                            <Route path='/reset' exact component={RequestReset} />\n                            <Route path='/reset/:token' exact component={Reset} />\n                            <Route path='/activate/:token' exact component={Login} />\n                            <Route path='/published/:login' exact component={Published} />\n                            <PrivateRoute path='/history' exact component={History} />\n                            <PrivateRoute path='/favorites' exact component={Favorites} />\n                            <PrivateRoute path='/profile' exact component={Profile} />\n                            <PrivateRoute path='/advert/create' exact render={(props) => <Edit {...props} mode='create'/>}/>\n                            <PrivateRoute path='/advert/edit/:slug' exact render={(props) => <Edit {...props} mode='edit'/>}/>\n                            <Route path='/advert/:slug' exact component={Detail} />\n                            <Route path='/' exact component={Home} />\n                            <Route component={Error404} />\n                        </Switch>\n                    </SnackbarProvider>\n                </ConnectedRouter>\n            </Provider>\n        </ErrorBoundary>\n    );\n}","module.exports = __webpack_public_path__ + \"static/media/user.8ac4a5c4.png\";","module.exports = __webpack_public_path__ + \"static/media/spinner.9f0bb82a.gif\";"],"sourceRoot":""}